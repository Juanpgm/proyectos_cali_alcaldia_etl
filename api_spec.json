{
  "openapi": "3.1.0",
  "info": {
    "title": "Gestor de Proyectos API",
    "description": "API para gesti├│n de proyectos con Firebase/Firestore - Soporte completo UTF-8 ≡ƒç¬≡ƒç╕",
    "version": "1.0.0"
  },
  "paths": {
    "/": {
      "get": {
        "summary": "Read Root",
        "description": "Endpoint ra├¡z con informaci├│n b├ísica de la API",
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "tags": [
          "Monitoring"
        ],
        "summary": "Metrics",
        "description": "≡ƒôè Endpoint de M├⌐tricas de Prometheus\n\nExpone m├⌐tricas de la aplicaci├│n en formato Prometheus para monitoreo APM:\n- gestor_api_requests_total: Contador de requests por endpoint, m├⌐todo y status\n- gestor_api_request_duration_seconds: Histograma de latencia de requests\n- gestor_api_requests_active: Gauge de requests activos\n- gestor_api_firebase_queries_total: Contador de queries a Firestore\n- gestor_api_cache_hits_total: Contador de cache hits\n- gestor_api_cache_misses_total: Contador de cache misses\n\nUsar con Grafana + Prometheus para dashboards de monitoreo",
        "operationId": "metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/ping": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "≡ƒö╡ Ping Simple",
        "description": "≡ƒö╡ GET | Γ¥ñ∩╕Å Health Check | Health check super simple para Railway con soporte UTF-8",
        "operationId": "ping_ping_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/cors-test": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Cors Test",
        "description": "Endpoint espec├¡fico para probar configuraci├│n CORS",
        "operationId": "cors_test_cors_test_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "General"
        ],
        "summary": "Cors Test Options",
        "description": "OPTIONS handler espec├¡fico para CORS test",
        "operationId": "cors_test_options_cors_test_options",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/test/utf8": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Test Utf8",
        "description": "Endpoint de prueba espec├¡fico para caracteres UTF-8 en espa├▒ol",
        "operationId": "test_utf8_test_utf8_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/debug/railway": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Railway Debug",
        "description": "Debug espec├¡fico para Railway - Diagn├│stico simplificado",
        "operationId": "railway_debug_debug_railway_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "≡ƒö╡ Estado de Salud API",
        "description": "≡ƒö╡ GET | Γ¥ñ∩╕Å Health Check | Verificar estado de salud de la API",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/centros-gestores/nombres-unicos": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Get All Nombres Centros Gestores Unique",
        "description": "## Obtener Nombres ├Ünicos de Centros Gestores\n\n**Prop├│sito**: Retorna una lista de valores ├║nicos del campo \"nombre_centro_gestor\" \nde la colecci├│n \"proyectos_presupuestales\".\n\n### Γ£à Casos de uso:\n- Poblar dropdowns y selectores en formularios\n- Filtros din├ímicos en dashboards\n- Validaci├│n de centros gestores existentes\n- Reportes por centro gestor\n- An├ílisis de distribuci├│n institucional\n\n### ≡ƒôè Caracter├¡sticas:\n- Valores ├║nicos ordenados alfab├⌐ticamente\n- Filtrado autom├ítico de valores vac├¡os o nulos\n- Conteo total de centros gestores ├║nicos\n- Optimizado para carga r├ípida\n\n### ≡ƒöº Optimizaciones:\n- Eliminaci├│n de duplicados usando set()\n- Normalizaci├│n de espacios en blanco\n- Ordenamiento alfab├⌐tico para mejor UX\n- Filtrado de valores vac├¡os\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/centros-gestores/nombres-unicos');\nconst data = await response.json();\nif (data.success) {\n    console.log('Centros gestores encontrados:', data.count);\n    const dropdown = data.data.map(nombre => ({\n        value: nombre,\n        label: nombre\n    }));\n}\n```\n\n### ≡ƒÆí Casos de uso pr├ícticos:\n- **Formularios**: Autocomplete de centros gestores\n- **Dashboards**: Filtros din├ímicos por instituci├│n\n- **Reportes**: Agrupaci├│n por centro gestor\n- **Validaci├│n**: Verificar centros gestores v├ílidos",
        "operationId": "get_all_nombres_centros_gestores_unique_centros_gestores_nombres_unicos_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/firebase/status": {
      "get": {
        "tags": [
          "Firebase"
        ],
        "summary": "Firebase Status",
        "description": "Verificar estado de la conexi├│n con Firebase",
        "operationId": "firebase_status_firebase_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/firebase/collections": {
      "get": {
        "tags": [
          "Firebase"
        ],
        "summary": "Get Firebase Collections",
        "description": "Obtener informaci├│n completa de todas las colecciones de Firestore",
        "operationId": "get_firebase_collections_firebase_collections_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/firebase/collections/summary": {
      "get": {
        "tags": [
          "Firebase"
        ],
        "summary": "Get Firebase Collections Summary",
        "description": "Obtener resumen estad├¡stico de las colecciones",
        "operationId": "get_firebase_collections_summary_firebase_collections_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/proyectos-presupuestales/all": {
      "get": {
        "tags": [
          "Proyectos de Inversi├│n"
        ],
        "summary": "≡ƒö╡ Todos los Proyectos Presupuestales",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Listados | Obtener Todos los Proyectos Presupuestales\n\n**Prop├│sito**: Retorna todos los documentos de la colecci├│n \"proyectos_presupuestales\".\n\n### Γ£à Casos de uso:\n- Obtener listado completo de proyectos presupuestales\n- Exportaci├│n de datos para an├ílisis\n- Integraci├│n con sistemas externos\n- Reportes y dashboards de proyectos de inversi├│n\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos disponibles en la colecci├│n\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/proyectos-presupuestales/all');\nconst data = await response.json();\nif (data.success) {\n    console.log('Proyectos encontrados:', data.count);\n    console.log('Datos:', data.data);\n}\n```",
        "operationId": "get_proyectos_all_proyectos_presupuestales_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/proyectos-presupuestales/bpin/{bpin}": {
      "get": {
        "tags": [
          "Proyectos de Inversi├│n"
        ],
        "summary": "≡ƒö╡ Proyectos por BPIN",
        "description": "## ≡ƒö╡ GET | ≡ƒöì Consultas | Obtener Proyectos por BPIN\n\n**Prop├│sito**: Retorna proyectos presupuestales filtrados por c├│digo BPIN espec├¡fico.\n\n### Γ£à Casos de uso:\n- B├║squeda de proyectos por c├│digo BPIN espec├¡fico\n- Consulta de detalles de proyecto individual\n- Validaci├│n de existencia de BPIN\n- Integraci├│n con sistemas de seguimiento presupuestal\n\n### ≡ƒöì Filtrado:\n- **Campo**: `bpin` (coincidencia exacta)\n- **Tipo**: String - C├│digo ├║nico del proyecto\n- **Sensible a may├║sculas**: S├¡\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del proyecto que coincida con el BPIN\n- ID del documento para referencia\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst bpin = \"2023000123456\";\nconst response = await fetch(`/proyectos-presupuestales/bpin/${bpin}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log('Proyecto encontrado:', data.data[0]);\n} else {\n    console.log('No se encontr├│ proyecto con BPIN:', bpin);\n}\n```\n\n### ≡ƒÆí Notas:\n- Si no se encuentra ning├║n proyecto, retorna array vac├¡o\n- El BPIN debe ser exacto (sin espacios adicionales)\n- T├¡picamente retorna 0 o 1 resultado (BPIN ├║nico)",
        "operationId": "get_proyectos_by_bpin_proyectos_presupuestales_bpin__bpin__get",
        "parameters": [
          {
            "name": "bpin",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bpin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/proyectos-presupuestales/bp/{bp}": {
      "get": {
        "tags": [
          "Proyectos de Inversi├│n"
        ],
        "summary": "Get Proyectos By Bp",
        "description": "## Obtener Proyectos Presupuestales por BP\n\n**Prop├│sito**: Retorna proyectos presupuestales filtrados por c├│digo BP espec├¡fico.\n\n### Γ£à Casos de uso:\n- B├║squeda de proyectos por c├│digo BP espec├¡fico\n- Consulta de proyectos relacionados por BP\n- An├ílisis de agrupaci├│n presupuestal\n- Reportes por c├│digo de proyecto base\n\n### ≡ƒöì Filtrado:\n- **Campo**: `bp` (coincidencia exacta)\n- **Tipo**: String - C├│digo base del proyecto\n- **Sensible a may├║sculas**: S├¡\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos de los proyectos que coincidan con el BP\n- ID del documento para referencia\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst bp = \"BP-2023-001\";\nconst response = await fetch(`/proyectos-presupuestales/bp/${bp}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log(`Encontrados ${data.count} proyectos con BP:`, bp);\n    data.data.forEach(proyecto => {\n        console.log('Proyecto:', proyecto.nombre_proyecto);\n    });\n}\n```\n\n### ≡ƒÆí Notas:\n- Puede retornar m├║ltiples proyectos (un BP puede tener varios proyectos)\n- Si no se encuentra ning├║n proyecto, retorna array vac├¡o\n- El BP debe ser exacto (sin espacios adicionales)",
        "operationId": "get_proyectos_by_bp_proyectos_presupuestales_bp__bp__get",
        "parameters": [
          {
            "name": "bp",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bp"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/proyectos-presupuestales/centro-gestor/{nombre_centro_gestor}": {
      "get": {
        "tags": [
          "Proyectos de Inversi├│n"
        ],
        "summary": "Get Proyectos By Centro Gestor",
        "description": "## Obtener Proyectos Presupuestales por Centro Gestor\n\n**Prop├│sito**: Retorna proyectos presupuestales filtrados por nombre del centro gestor espec├¡fico.\n\n### Γ£à Casos de uso:\n- Consulta de proyectos por dependencia responsable\n- Reportes por entidad gestora\n- Dashboard por centro de responsabilidad\n- An├ílisis de distribuci├│n institucional\n- Seguimiento de proyectos por secretar├¡a/departamento\n\n### ≡ƒöì Filtrado:\n- **Campo**: `nombre_centro_gestor` (coincidencia exacta)\n- **Tipo**: String - Nombre completo del centro gestor\n- **Sensible a may├║sculas**: S├¡\n- **Espacios**: Sensible a espacios adicionales\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos de los proyectos del centro gestor\n- ID del documento para referencia\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst centroGestor = \"Secretar├¡a de Salud\";\nconst response = await fetch(`/proyectos-presupuestales/centro-gestor/${encodeURIComponent(centroGestor)}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log(`${data.count} proyectos encontrados para:`, centroGestor);\n    const totalPresupuesto = data.data.reduce((sum, p) => sum + (p.presupuesto || 0), 0);\n    console.log('Presupuesto total:', totalPresupuesto);\n}\n```\n\n### ≡ƒÆí Notas:\n- T├¡picamente retorna m├║ltiples proyectos por centro gestor\n- El nombre debe ser exacto (use `/centros-gestores/nombres-unicos` para obtener nombres v├ílidos)\n- Para nombres con espacios, usar `encodeURIComponent()` en el frontend\n- Si no se encuentra ning├║n proyecto, retorna array vac├¡o\n\n### ≡ƒöù Endpoint relacionado:\n- `GET /centros-gestores/nombres-unicos` - Para obtener lista de centros gestores v├ílidos",
        "operationId": "get_proyectos_by_centro_gestor_proyectos_presupuestales_centro_gestor__nombre_centro_gestor__get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Nombre Centro Gestor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/proyectos-presupuestales/cargar-json": {
      "post": {
        "tags": [
          "Proyectos de Inversi├│n"
        ],
        "summary": "≡ƒƒó Cargar JSON Proyectos",
        "description": "## ∩┐╜ POST | ∩┐╜≡ƒôè Carga de Archivos | Cargar Proyectos desde JSON\n\nEndpoint POST para subir un archivo JSON con informaci├│n de proyectos presupuestales \ny cargarlo en la colecci├│n \"proyectos_presupuestales\".\n\n### ≡ƒôü Archivo JSON esperado:\n```json\n[\n    {\n        \"nombre_proyecto\": \"Construcci├│n de Puente\",\n        \"bpin\": \"2023000123456\",\n        \"bp\": \"BP-2023-001\", \n        \"nombre_centro_gestor\": \"Secretar├¡a de Infraestructura\",\n        \"valor_proyecto\": 500000000\n    },\n    {\n        \"nombre_proyecto\": \"Otro Proyecto\",\n        \"bpin\": \"2023000789012\"\n    }\n]\n```\n\n### ≡ƒöº Modos de actualizaci├│n:\n- **merge**: Actualiza existentes y crea nuevos (por defecto)\n- **replace**: Reemplaza toda la colecci├│n\n- **append**: Solo agrega nuevos\n\n### ≡ƒÄ» C├│mo usar:\n1. Haz clic en \"Choose File\" \n2. Selecciona tu archivo .json\n3. Selecciona el modo de actualizaci├│n\n4. Haz clic en \"Execute\"\n\n### Γ£à Validaciones:\n- Solo archivos .json\n- Cada proyecto debe tener \"nombre_proyecto\"\n- Tama├▒o m├íximo: 10MB",
        "operationId": "cargar_proyectos_presupuestales_json_proyectos_presupuestales_cargar_json_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_proyectos_presupuestales_json_proyectos_presupuestales_cargar_json_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/geometry": {
      "get": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒö╡ Geometr├¡as Completas",
        "description": "## ≡ƒö╡ GET | ≡ƒù║∩╕Å Datos Geoespaciales | Datos Geoespaciales Completos\n\n**Prop├│sito**: Retorna TODOS los registros de proyectos en formato GeoJSON con soporte completo para:\n- LineString, MultiLineString, Polygon, MultiPolygon\n- GeometryCollection (geometr├¡as unificadas)\n- Todas las propiedades del proyecto (nombre_up, centro_gestor, etc.)\n\n### Geometr├¡as Soportadas\n\n**Simples**: Point, LineString, Polygon\n**Multi**: MultiPoint, MultiLineString, MultiPolygon  \n**Complejas**: GeometryCollection (resultado de unificaci├│n de features)\n\n### Par├ímetros de Filtrado\n\n| Filtro | Descripci├│n |\n|--------|-------------|\n| upid | ID espec├¡fico de unidad (ej: UNP-1000) |\n| nombre_centro_gestor | Centro gestor responsable |\n| tipo_equipamiento | Tipo de equipamiento (ej: V├¡as) |\n| comuna_corregimiento | Comuna o corregimiento |\n| limit | L├¡mite de resultados (1-10000) |\n| debug | Incluir informaci├│n de depuraci├│n |",
        "operationId": "export_geometry_for_nextjs_unidades_proyecto_geometry_get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Centro gestor responsable",
              "title": "Nombre Centro Gestor"
            },
            "description": "Centro gestor responsable"
          },
          {
            "name": "tipo_intervencion",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tipo de intervenci├│n",
              "title": "Tipo Intervencion"
            },
            "description": "Tipo de intervenci├│n"
          },
          {
            "name": "estado",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Estado del proyecto",
              "title": "Estado"
            },
            "description": "Estado del proyecto"
          },
          {
            "name": "upid",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ID espec├¡fico de unidad",
              "title": "Upid"
            },
            "description": "ID espec├¡fico de unidad"
          },
          {
            "name": "clase_obra",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Clase de obra del proyecto",
              "title": "Clase Obra"
            },
            "description": "Clase de obra del proyecto"
          },
          {
            "name": "tipo_equipamiento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tipo de equipamiento del proyecto",
              "title": "Tipo Equipamiento"
            },
            "description": "Tipo de equipamiento del proyecto"
          },
          {
            "name": "comuna_corregimiento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comuna o corregimiento espec├¡fico",
              "title": "Comuna Corregimiento"
            },
            "description": "Comuna o corregimiento espec├¡fico"
          },
          {
            "name": "barrio_vereda",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Barrio o vereda espec├¡fico",
              "title": "Barrio Vereda"
            },
            "description": "Barrio o vereda espec├¡fico"
          },
          {
            "name": "presupuesto_base",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Presupuesto m├¡nimo del proyecto",
              "title": "Presupuesto Base"
            },
            "description": "Presupuesto m├¡nimo del proyecto"
          },
          {
            "name": "avance_obra",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 100,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Porcentaje m├¡nimo de avance de obra",
              "title": "Avance Obra"
            },
            "description": "Porcentaje m├¡nimo de avance de obra"
          },
          {
            "name": "include_bbox",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Calcular y incluir bounding box",
              "default": false,
              "title": "Include Bbox"
            },
            "description": "Calcular y incluir bounding box"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 10000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "L├¡mite de registros",
              "title": "Limit"
            },
            "description": "L├¡mite de registros"
          },
          {
            "name": "force_refresh",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Forzar limpieza de cache (debug)",
              "title": "Force Refresh"
            },
            "description": "Forzar limpieza de cache (debug)"
          },
          {
            "name": "debug",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Modo debug con informaci├│n adicional",
              "default": false,
              "title": "Debug"
            },
            "description": "Modo debug con informaci├│n adicional"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/attributes": {
      "get": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒö╡ GET | ≡ƒôè Datos Tabulares | Atributos Tabulares",
        "description": "## ≡ƒö╡ GET | ≡ƒôè Datos Tabulares | Atributos Tabulares\n\n**Prop├│sito**: Retorna atributos completos de proyectos excluyendo datos geogr├íficos.\n\n### Optimizaci├│n de Datos\n\n**Campos incluidos**: Todos los atributos del proyecto (nombres, estados, referencias, etc.)\n**Campos excluidos**: coordinates, geometry, linestring, polygon, lat, lng y similares\n**Paginaci├│n**: Sistema limit/offset para manejo eficiente de grandes vol├║menes\n\n### Estrategia de Filtrado\n\n**Sin filtros**: Dataset completo de atributos  \n**Con filtros**: Optimizaci├│n server-side + filtros client-side espec├¡ficos\n\n**Server-side**: upid, estado, tipo_intervencion, nombre_centro_gestor  \n**Client-side**: search, nombre_up, direccion, ubicaci├│n geogr├ífica\n\n### Par├ímetros\n\n| Filtro | Descripci├│n |\n|--------|-------------|\n| nombre_centro_gestor | Centro gestor responsable |\n| tipo_intervencion | Tipo de intervenci├│n |\n| estado | Estado del proyecto |\n| upid | ID espec├¡fico de unidad |\n| clase_obra | Clase de obra del proyecto |\n| tipo_equipamiento | Tipo de equipamiento del proyecto |\n| nombre_up | B├║squeda parcial en nombre |\n| comuna_corregimiento | Comuna o corregimiento |\n| barrio_vereda | Barrio o vereda |\n| direccion | B├║squeda parcial en direcci├│n |\n| referencia_contrato | Referencia del contrato |\n| referencia_proceso | Referencia del proceso |\n| **limit** | M├íximo resultados (1-1000) |\n| **offset** | Registros a omitir |\n\n### Aplicaciones\n\n- Grillas de datos y tablas administrativas\n- Reportes tabulares con filtros m├║ltiples\n- Exportaci├│n a formatos estructurados\n- Interfaces de b├║squeda avanzada",
        "operationId": "export_attributes_for_nextjs_unidades_proyecto_attributes_get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Centro gestor responsable",
              "title": "Nombre Centro Gestor"
            },
            "description": "Centro gestor responsable"
          },
          {
            "name": "tipo_intervencion",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tipo de intervenci├│n",
              "title": "Tipo Intervencion"
            },
            "description": "Tipo de intervenci├│n"
          },
          {
            "name": "estado",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Estado del proyecto",
              "title": "Estado"
            },
            "description": "Estado del proyecto"
          },
          {
            "name": "upid",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ID espec├¡fico de unidad",
              "title": "Upid"
            },
            "description": "ID espec├¡fico de unidad"
          },
          {
            "name": "clase_obra",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Clase de obra del proyecto",
              "title": "Clase Obra"
            },
            "description": "Clase de obra del proyecto"
          },
          {
            "name": "tipo_equipamiento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tipo de equipamiento del proyecto",
              "title": "Tipo Equipamiento"
            },
            "description": "Tipo de equipamiento del proyecto"
          },
          {
            "name": "nombre_up",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "B├║squeda parcial en nombre (contiene texto)",
              "title": "Nombre Up"
            },
            "description": "B├║squeda parcial en nombre (contiene texto)"
          },
          {
            "name": "comuna_corregimiento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comuna o corregimiento",
              "title": "Comuna Corregimiento"
            },
            "description": "Comuna o corregimiento"
          },
          {
            "name": "barrio_vereda",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Barrio o vereda",
              "title": "Barrio Vereda"
            },
            "description": "Barrio o vereda"
          },
          {
            "name": "direccion",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "B├║squeda parcial en direcci├│n (contiene texto)",
              "title": "Direccion"
            },
            "description": "B├║squeda parcial en direcci├│n (contiene texto)"
          },
          {
            "name": "referencia_contrato",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Referencia del contrato",
              "title": "Referencia Contrato"
            },
            "description": "Referencia del contrato"
          },
          {
            "name": "referencia_proceso",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Referencia del proceso",
              "title": "Referencia Proceso"
            },
            "description": "Referencia del proceso"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 1000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "M├íximo de resultados",
              "title": "Limit"
            },
            "description": "M├íximo de resultados"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Saltar registros para paginaci├│n",
              "title": "Offset"
            },
            "description": "Saltar registros para paginaci├│n"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/filters": {
      "get": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "Get Filters Endpoint",
        "description": "**Obtener valores ├║nicos para filtros de Unidades de Proyecto**\n\nEndpoint optimizado para poblar controles de filtrado en dashboards y interfaces.\nDise├▒ado espec├¡ficamente para aplicaciones NextJS con carga eficiente de opciones.\n\n**Caracter├¡sticas principales:**\n- **Filtrado inteligente**: Especifica un campo para cargar solo sus valores\n- **Control de volumen**: Aplica l├¡mites para evitar sobrecarga de datos  \n- **Optimizaci├│n server-side**: Usa queries eficientes de Firestore\n- **Cache-friendly**: Estructura optimizada para sistemas de cach├⌐\n\n**Casos de uso:**\n- Poblar dropdowns y selectores en dashboards\n- Cargar opciones de filtrado din├ímicamente\n- Implementar autocomplete y b├║squeda predictiva\n- Validar valores disponibles antes de filtrar\n\n**Campos disponibles:**\n- `estado`: Estados de proyecto (activo, completado, etc.)\n- `tipo_intervencion`: Tipos de intervenci├│n urbana\n- `nombre_centro_gestor`: Centros gestores responsables\n- `comuna_corregimiento`: Ubicaciones por comuna/corregimiento\n- `barrio_vereda`: Ubicaciones por barrio/vereda\n- `fuente_financiacion`: Fuentes de financiaci├│n del proyecto\n- `ano`: A├▒os de ejecuci├│n disponibles\n- `departamento`: Departamentos con proyectos\n- `municipio`: Municipios con proyectos\n\n**Optimizaciones aplicadas:**\n- Sampling inteligente de documentos para reducir latencia\n- Filtros server-side en Firestore para mejor rendimiento\n- L├¡mites configurables para controlar payload\n- Estructura de respuesta optimizada para frontend",
        "operationId": "get_filters_endpoint_unidades_proyecto_filters_get",
        "parameters": [
          {
            "name": "field",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Campo espec├¡fico para obtener valores ├║nicos (opcional)",
              "enum": [
                "estado",
                "tipo_intervencion",
                "nombre_centro_gestor",
                "comuna_corregimiento",
                "barrio_vereda",
                "fuente_financiacion",
                "ano",
                "clase_obra"
              ],
              "title": "Field"
            },
            "description": "Campo espec├¡fico para obtener valores ├║nicos (opcional)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "L├¡mite de valores ├║nicos a retornar (opcional)",
              "title": "Limit"
            },
            "description": "L├¡mite de valores ├║nicos a retornar (opcional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/download-geojson": {
      "get": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒö╡ Descarga GeoJSON",
        "description": "## ≡ƒö╡ GET | ≡ƒôü Descarga | Descargar Unidades de Proyecto en formato GeoJSON\n\n**Prop├│sito**: Descarga datos de la colecci├│n \"unidades_proyecto\" en formato .geojson \nest├índar para uso en aplicaciones SIG y herramientas geoespaciales.\n\n### Γ£à Caracter├¡sticas principales:\n- **Formato est├índar**: GeoJSON compatible con QGIS, ArcGIS, Leaflet, etc.\n- **Filtros flexibles**: Permite filtrar por centro gestor, tipo, estado, ubicaci├│n\n- **Geometr├¡a configurable**: Opci├│n de incluir todos los registros o solo los que tienen geometr├¡a\n- **Campos optimizados**: Incluye todos los campos relevantes para an├ílisis SIG\n- **Encoding UTF-8**: Soporte completo para caracteres especiales en espa├▒ol\n\n### ≡ƒù║∩╕Å Estrategia de geometr├¡a:\n- **include_all_records=true** (por defecto): Incluye todos los registros, los sin geometr├¡a usan coordenadas [0,0]\n- **only_with_geometry=true**: Solo registros con coordenadas v├ílidas\n- Campo **has_valid_geometry** indica si las coordenadas son reales o placeholder\n\n### ≡ƒôè Campos incluidos:\n- **upid**: Identificador ├║nico del proyecto\n- **nombre_up**: Nombre del proyecto\n- **estado**: Estado actual del proyecto\n- **tipo_intervencion**: Tipo de intervenci├│n urbana\n- **nombre_centro_gestor**: Entidad responsable\n- **comuna_corregimiento**: Ubicaci├│n administrativa\n- **barrio_vereda**: Ubicaci├│n espec├¡fica\n- **presupuesto_base**: Valor del proyecto\n- **avance_obra**: Porcentaje de avance\n- **bpin**: C├│digo BPIN del proyecto\n- **has_valid_geometry**: Indica si tiene coordenadas reales\n\n### ≡ƒÄ» Casos de uso:\n- **An├ílisis SIG**: Importar en QGIS, ArcGIS para an├ílisis espacial\n- **Mapas web**: Cargar en Leaflet, Mapbox, OpenLayers\n- **Visualizaci├│n**: Crear mapas tem├íticos y dashboards geogr├íficos\n- **Integraci├│n**: Conectar con otras plataformas geoespaciales\n- **Backup**: Exportar datos para respaldo\n\n### ≡ƒô¥ Ejemplo de uso:\n```bash\n# Descargar todos los proyectos\nGET /unidades-proyecto/download-geojson\n\n# Solo proyectos de una secretar├¡a\nGET /unidades-proyecto/download-geojson?nombre_centro_gestor=Secretar├¡a de Infraestructura\n\n# Solo proyectos con geometr├¡a v├ílida\nGET /unidades-proyecto/download-geojson?only_with_geometry=true\n\n# Proyectos de una comuna espec├¡fica\nGET /unidades-proyecto/download-geojson?comuna_corregimiento=Comuna 1\n```\n\n### ≡ƒÆí Nota t├⌐cnica:\n- El archivo se descarga directamente como .geojson\n- Content-Type: application/geo+json\n- Encoding: UTF-8 para caracteres especiales\n- Compatible con est├índares RFC 7946 (GeoJSON)",
        "operationId": "download_unidades_proyecto_geojson_unidades_proyecto_download_geojson_get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Centro gestor responsable",
              "title": "Nombre Centro Gestor"
            },
            "description": "Centro gestor responsable"
          },
          {
            "name": "tipo_intervencion",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tipo de intervenci├│n",
              "title": "Tipo Intervencion"
            },
            "description": "Tipo de intervenci├│n"
          },
          {
            "name": "estado",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Estado del proyecto",
              "title": "Estado"
            },
            "description": "Estado del proyecto"
          },
          {
            "name": "upid",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ID espec├¡fico de unidad",
              "title": "Upid"
            },
            "description": "ID espec├¡fico de unidad"
          },
          {
            "name": "comuna_corregimiento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comuna o corregimiento espec├¡fico",
              "title": "Comuna Corregimiento"
            },
            "description": "Comuna o corregimiento espec├¡fico"
          },
          {
            "name": "barrio_vereda",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Barrio o vereda espec├¡fico",
              "title": "Barrio Vereda"
            },
            "description": "Barrio o vereda espec├¡fico"
          },
          {
            "name": "include_all_records",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Incluir todos los registros (con y sin geometr├¡a)",
              "default": true,
              "title": "Include All Records"
            },
            "description": "Incluir todos los registros (con y sin geometr├¡a)"
          },
          {
            "name": "only_with_geometry",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Solo registros con geometr├¡a v├ílida",
              "default": false,
              "title": "Only With Geometry"
            },
            "description": "Solo registros con geometr├¡a v├ílida"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 10000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "L├¡mite de registros (default: 1000 para performance)",
              "default": 1000,
              "title": "Limit"
            },
            "description": "L├¡mite de registros (default: 1000 para performance)"
          },
          {
            "name": "include_metadata",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Incluir metadata en el GeoJSON",
              "default": true,
              "title": "Include Metadata"
            },
            "description": "Incluir metadata en el GeoJSON"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/cargar-geojson": {
      "post": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒƒó Cargar GeoJSON a Firestore (UPSERT)",
        "description": "## ≡ƒƒó POST | ≡ƒôñ UPSERT | Importar/Actualizar Unidades de Proyecto desde GeoJSON a Firestore\n\n**Prop├│sito**: Cargar o actualizar masivamente datos de unidades de proyecto desde un archivo GeoJSON \na la colecci├│n 'unidades_proyecto' en Firebase Firestore usando estrategia **UPSERT**.\n\n### Γ£à Caracter├¡sticas principales:\n- **≡ƒöä UPSERT autom├ítico**: Si el documento existe, actualiza solo los campos modificados. Si no existe, lo crea.\n- **Importaci├│n masiva**: Procesa m├║ltiples features en un solo archivo\n- **Validaci├│n autom├ítica**: Verifica estructura GeoJSON y campos requeridos\n- **Procesamiento por lotes**: Optimizado para grandes vol├║menes (hasta 500 por batch)\n- **Generaci├│n de UPIDs consecutivos**: Mantiene el consecutivo UNP-{n├║mero}\n- **Campo autom├ítico**: Agrega `tipo_equipamiento: \"V├¡as\"` a todos los elementos\n- **Modo dry-run**: Simula la carga para validar datos sin escribir en BD\n\n### ≡ƒöä Comportamiento UPSERT:\n- **Si el documento existe**: Actualiza solo los campos que cambiaron (merge)\n- **Si el documento NO existe**: Crea un nuevo documento completo\n- **Beneficios**: \n  - No duplica datos\n  - Preserva campos que no est├ín en el GeoJSON\n  - Actualiza solo lo necesario\n  - M├ís eficiente que sobrescribir completo\n\n### ≡ƒôï Estructura esperada del GeoJSON:\n```json\n{\n  \"type\": \"FeatureCollection\",\n  \"features\": [\n    {\n      \"type\": \"Feature\",\n      \"geometry\": {\n        \"type\": \"LineString|Point|Polygon\",\n        \"coordinates\": [[lng, lat], ...]\n      },\n      \"properties\": {\n        \"nombre_up\": \"Nombre del proyecto\",\n        \"estado\": \"Finalizado|En Ejecuci├│n|etc.\",\n        \"clase_obra\": \"Obra Vial|etc.\",\n        \"comuna_corregimiento\": \"COMUNA XX\",\n        \"barrio_vereda\": \"Nombre del barrio\",\n        \"presupuesto_base\": \"123456.78\",\n        \"avance_obra\": \"100\",\n        \"ano\": \"2024\",\n        \"nombre_centro_gestor\": \"Secretar├¡a de...\",\n        \"bpin\": \"2023760010180\",\n        ...otros campos opcionales\n      }\n    }\n  ]\n}\n```\n\n### ≡ƒöº Par├ímetros de configuraci├│n:\n- **batch_size** (1-500): N├║mero de documentos por lote (default: 500)\n- **override_existing**: [DEPRECADO] Ya no se usa, siempre hace UPSERT\n- **override_upid**: \n  - `false` (default): Usa UPIDs del GeoJSON si existen, genera consecutivos si no\n  - `true`: Genera nuevos UPIDs consecutivos para todos\n- **dry_run**: \n  - `false` (default): Ejecuta la carga/actualizaci├│n real\n  - `true`: Solo simula y muestra estad├¡sticas\n\n### ≡ƒôè Procesamiento autom├ítico:\n- **UPID**: Genera `UNP-{n├║mero}` consecutivo si no existe\n- **tipo_equipamiento**: Agrega autom├íticamente valor \"V├¡as\"\n- **Geometr├¡a**: Detecta tipo (Point, LineString, Polygon, Multi*) y serializa como JSON string\n- **Validaci├│n de coordenadas**: Identifica coordenadas v├ílidas vs placeholders [0,0]\n- **Conversi├│n de tipos**: \n  - `presupuesto_base` ΓåÆ float\n  - `avance_obra` ΓåÆ float (porcentaje)\n  - `cantidad` ΓåÆ int\n  - `bpin` ΓåÆ string limpia (sin prefijos '-')\n- **Limpieza de datos**: Elimina valores null, NaN, vac├¡os\n- **Timestamps**: Agrega `updated_at` y `loaded_at` autom├íticamente\n\n### ≡ƒôê Respuesta incluye:\n- **Estad├¡sticas detalladas**:\n  - Total de features procesados\n  - Documentos **creados** (nuevos)\n  - Documentos **actualizados** (existentes modificados)\n  - Documentos omitidos (solo en dry-run)\n  - Errores encontrados\n- **Detalles de errores**: Lista de features que fallaron con raz├│n\n- **Tasa de ├⌐xito**: Porcentaje de procesamiento exitoso\n\n### ≡ƒÄ» Casos de uso:\n- **Migraci├│n inicial**: Cargar datos hist├│ricos desde sistemas SIG\n- **Actualizaci├│n masiva**: Importar nuevos proyectos desde herramientas externas\n- **Sincronizaci├│n**: Mantener datos actualizados desde fuentes GeoJSON\n- **Backup/Restore**: Restaurar datos desde respaldos\n- **Integraci├│n**: Importar desde QGIS, ArcGIS, u otras plataformas SIG\n\n### ΓÜá∩╕Å Consideraciones:\n- El archivo debe ser GeoJSON v├ílido (RFC 7946)\n- M├íximo 500 documentos por batch (limitaci├│n de Firestore)\n- Los UPIDs deben ser ├║nicos en toda la colecci├│n\n- Para archivos muy grandes (>1000 features), considerar m├║ltiples cargas\n- En modo dry-run, no se valida duplicidad de UPIDs\n\n### ≡ƒô¥ Ejemplo de respuesta exitosa:\n```json\n{\n  \"success\": true,\n  \"message\": \"Carga completada: 646/646 features procesados\",\n  \"stats\": {\n    \"total_features\": 646,\n    \"processed\": 646,\n    \"created\": 500,\n    \"updated\": 0,\n    \"skipped\": 146,\n    \"errors\": 0,\n    \"error_details\": []\n  },\n  \"dry_run\": false\n}\n```",
        "operationId": "cargar_geojson_a_firestore_unidades_proyecto_cargar_geojson_post",
        "parameters": [
          {
            "name": "batch_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Tama├▒o de lote para operaciones batch",
              "default": 500,
              "title": "Batch Size"
            },
            "description": "Tama├▒o de lote para operaciones batch"
          },
          {
            "name": "override_existing",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "[DEPRECADO] Par├ímetro legacy, ahora siempre hace UPSERT",
              "default": false,
              "title": "Override Existing"
            },
            "description": "[DEPRECADO] Par├ímetro legacy, ahora siempre hace UPSERT"
          },
          {
            "name": "override_upid",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Generar nuevos UPIDs aunque existan",
              "default": false,
              "title": "Override Upid"
            },
            "description": "Generar nuevos UPIDs aunque existan"
          },
          {
            "name": "dry_run",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Simular carga sin escribir en Firebase",
              "default": false,
              "title": "Dry Run"
            },
            "description": "Simular carga sin escribir en Firebase"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_geojson_a_firestore_unidades_proyecto_cargar_geojson_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/delete-by-centro-gestor": {
      "delete": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒö┤ Eliminar por Centro Gestor",
        "description": "## ≡ƒö┤ DELETE | Eliminar Unidades de Proyecto por Centro Gestor\n\n**Prop├│sito**: Eliminar todos los documentos de la colecci├│n 'unidades_proyecto' que \ncorrespondan a un centro gestor espec├¡fico.\n\n### ΓÜá∩╕Å ADVERTENCIA\nEsta operaci├│n es **IRREVERSIBLE**. Todos los documentos que coincidan con el filtro \nser├ín eliminados permanentemente de Firebase.\n\n### ≡ƒöº Par├ímetros:\n- **nombre_centro_gestor** (requerido): Nombre exacto del centro gestor\n- **confirm** (requerido): Debe ser `true` para ejecutar la eliminaci├│n\n\n### ≡ƒôè Proceso:\n1. Busca todos los documentos con el `nombre_centro_gestor` especificado\n2. Cuenta cu├íntos documentos ser├ín eliminados\n3. Si `confirm=true`, elimina los documentos en batches de 500\n4. Retorna estad├¡sticas de la operaci├│n\n\n### ≡ƒô¥ Ejemplo de uso:\n```\nDELETE /unidades-proyecto/delete-by-centro-gestor?nombre_centro_gestor=Secretar├¡a de Infraestructura&confirm=true\n```\n\n### ≡ƒôê Respuesta exitosa:\n```json\n{\n  \"success\": true,\n  \"message\": \"15 documentos eliminados correctamente\",\n  \"stats\": {\n    \"deleted_count\": 15,\n    \"nombre_centro_gestor\": \"Secretar├¡a de Infraestructura\"\n  }\n}\n```\n\n### ΓÜá∩╕Å Seguridad:\n- Requiere `confirm=true` para ejecutar\n- Sin `confirm=true`, solo muestra cu├íntos documentos ser├¡an eliminados",
        "operationId": "delete_unidades_by_centro_gestor_unidades_proyecto_delete_by_centro_gestor_delete",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Nombre del centro gestor cuyos proyectos ser├ín eliminados",
              "title": "Nombre Centro Gestor"
            },
            "description": "Nombre del centro gestor cuyos proyectos ser├ín eliminados"
          },
          {
            "name": "confirm",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Debe ser true para confirmar la eliminaci├│n",
              "default": false,
              "title": "Confirm"
            },
            "description": "Debe ser true para confirmar la eliminaci├│n"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/unidades-proyecto/delete-by-tipo-equipamiento": {
      "delete": {
        "tags": [
          "Unidades de Proyecto"
        ],
        "summary": "≡ƒö┤ Eliminar por Tipo de Equipamiento",
        "description": "## ≡ƒö┤ DELETE | Eliminar Unidades de Proyecto por Tipo de Equipamiento\n\n**Prop├│sito**: Eliminar todos los documentos de la colecci├│n 'unidades_proyecto' que \ncorrespondan a un tipo de equipamiento espec├¡fico.\n\n### ΓÜá∩╕Å ADVERTENCIA\nEsta operaci├│n es **IRREVERSIBLE**. Todos los documentos que coincidan con el filtro \nser├ín eliminados permanentemente de Firebase.\n\n### ≡ƒöº Par├ímetros:\n- **tipo_equipamiento** (requerido): Tipo de equipamiento exacto (ej: \"V├¡as\", \"Parques y zonas verdes\")\n- **confirm** (requerido): Debe ser `true` para ejecutar la eliminaci├│n\n\n### ≡ƒôè Proceso:\n1. Busca todos los documentos con el `tipo_equipamiento` especificado\n2. Cuenta cu├íntos documentos ser├ín eliminados\n3. Si `confirm=true`, elimina los documentos en batches de 500\n4. Retorna estad├¡sticas de la operaci├│n\n\n### ≡ƒô¥ Ejemplo de uso:\n```\nDELETE /unidades-proyecto/delete-by-tipo-equipamiento?tipo_equipamiento=V├¡as&confirm=true\n```\n\n### ≡ƒôê Respuesta exitosa:\n```json\n{\n  \"success\": true,\n  \"message\": \"369 documentos eliminados correctamente\",\n  \"stats\": {\n    \"deleted_count\": 369,\n    \"tipo_equipamiento\": \"V├¡as\"\n  }\n}\n```\n\n### ΓÜá∩╕Å Seguridad:\n- Requiere `confirm=true` para ejecutar\n- Sin `confirm=true`, solo muestra cu├íntos documentos ser├¡an eliminados",
        "operationId": "delete_unidades_by_tipo_equipamiento_unidades_proyecto_delete_by_tipo_equipamiento_delete",
        "parameters": [
          {
            "name": "tipo_equipamiento",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Tipo de equipamiento cuyos proyectos ser├ín eliminados",
              "title": "Tipo Equipamiento"
            },
            "description": "Tipo de equipamiento cuyos proyectos ser├ín eliminados"
          },
          {
            "name": "confirm",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Debe ser true para confirmar la eliminaci├│n",
              "default": false,
              "title": "Confirm"
            },
            "description": "Debe ser true para confirmar la eliminaci├│n"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/contratos/init_contratos_seguimiento": {
      "get": {
        "tags": [
          "Interoperabilidad con Artefacto de Seguimiento"
        ],
        "summary": "Init Contratos Seguimiento",
        "description": "## Inicializaci├│n de Contratos para Seguimiento\n\nObtiene datos de contratos desde la colecci├│n `contratos_emprestito` con filtros optimizados.\n\n**Campos retornados**: bpin, banco, nombre_centro_gestor, estado_contrato, referencia_contrato, \nreferencia_proceso, nombre_resumido_proceso, objeto_contrato, modalidad_contratacion, fecha_inicio_contrato, fecha_firma, \nfecha_fin_contrato\n\n**Filtros**:\n- `referencia_contrato`: Textbox - b├║squeda parcial\n- `nombre_centro_gestor`: Dropdown - selecci├│n exacta\n\nSin filtros retorna todos los datos disponibles.",
        "operationId": "init_contratos_seguimiento_contratos_init_contratos_seguimiento_get",
        "parameters": [
          {
            "name": "referencia_contrato",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Referencia del contrato (b├║squeda parcial)",
              "title": "Referencia Contrato"
            },
            "description": "Referencia del contrato (b├║squeda parcial)"
          },
          {
            "name": "nombre_centro_gestor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Centro gestor responsable (exacto)",
              "title": "Nombre Centro Gestor"
            },
            "description": "Centro gestor responsable (exacto)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reportes_contratos/": {
      "get": {
        "tags": [
          "Interoperabilidad con Artefacto de Seguimiento"
        ],
        "summary": "Obtener Reportes Contratos",
        "description": "## ≡ƒôï Obtener Todos los Reportes de Contratos\n\n**Prop├│sito**: Obtener listado completo de todos los reportes de contratos almacenados en Firebase.\nMuestra todos los registros de la colecci├│n `reportes_contratos` con `nombre_centro_gestor` \nactualizado desde la colecci├│n `contratos_emprestito` cuando sea necesario.\n\n### ≡ƒöä Integraci├│n con contratos_emprestito:\n- Si un reporte no tiene `nombre_centro_gestor` o est├í vac├¡o, se busca autom├íticamente \n  en la colecci├│n `contratos_emprestito` usando `referencia_contrato` como clave\n- Los reportes actualizados incluyen el campo `nombre_centro_gestor_source: 'contratos_emprestito'`\n\n### ≡ƒôè Ordenamiento:\nLos resultados se ordenan por `fecha_reporte` descendente (m├ís recientes primero).\n\n### ≡ƒÆí Casos de uso:\n- Obtener listado completo para dashboard de seguimiento\n- Vista general de todos los reportes generados con datos completos\n- Administraci├│n y auditor├¡a de reportes con informaci├│n del centro gestor",
        "operationId": "obtener_reportes_contratos_reportes_contratos__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Interoperabilidad con Artefacto de Seguimiento"
        ],
        "summary": "Crear Reporte Contrato",
        "description": "## ≡ƒôè Crear Reporte de Contrato con Evidencias y Upload de Archivos\n\n**Prop├│sito**: Endpoint unificado para crear reportes de seguimiento de contratos \ncon carga de archivos y estructura de carpetas organizada.\n\n### Γ£à IMPORTANTE - Google Drive:\n- **Estado actual**: PRODUCCI├ôN - Subida real de archivos funcionando\n- **Configuraci├│n**: Google Drive API con Service Account y Shared Drive\n- **Archivos**: Se suben realmente y son accesibles desde Google Drive\n\n### Γ£à Caracter├¡sticas principales:\n- **Carga de archivos**: Upload directo de archivos de evidencia\n- **Estructura autom├ítica**: Carpetas organizadas por contrato y fecha  \n- **Firebase**: Almacenamiento en colecci├│n `reportes_contratos`\n- **Timestamp autom├ítico**: Fecha de reporte generada autom├íticamente\n- **Decimales**: Soporte para avances con decimales (ej: 75.5)\n\n### ≡ƒôï Par├ímetros (Form Data):\n- **referencia_contrato**: Referencia del contrato (obligatorio)\n- **observaciones**: Descripci├│n detallada del avance (obligatorio)\n- **avance_fisico**: Porcentaje de avance f├¡sico 0-100 con decimales (obligatorio)\n- **avance_financiero**: Porcentaje de avance financiero 0-100 con decimales (obligatorio)\n- **alertas_descripcion**: Descripci├│n de la alerta (obligatorio)\n- **alertas_es_alerta**: Booleano si es alerta activa (obligatorio)\n- **alertas_tipo_alerta**: Tipos de alerta separados por coma (opcional)\n- **archivos_evidencia**: Archivos de evidencia para subir (obligatorio, m├║ltiples archivos)\n\n### ≡ƒôü Estructura de carpetas en Google Drive:\n```\n≡ƒôü CONTRATOS_REPORTES/\n  ≡ƒôü {referencia_contrato}/\n    ≡ƒôü REPORTE_{YYYY-MM-DD}_{HH-MM-SS}_{UUID}/\n      ≡ƒôä evidencia1.pdf\n      ≡ƒôä evidencia2.jpg\n      ≡ƒôä ...\n```\n\n### ≡ƒöÆ Validaciones aplicadas:\n- **Archivos**: Tipos permitidos (PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, GIF)\n- **Tama├▒o**: M├íximo 10MB por archivo\n- **Cantidad**: Al menos 1 archivo requerido\n- **Avances**: Rango 0-100 con decimales (ej: 75.5)\n- **Nombres**: Caracteres especiales manejados autom├íticamente\n\n### ≡ƒÜÇ Proceso autom├ítico:\n1. Validar archivos subidos\n2. Crear/verificar carpeta del contrato\n3. Crear carpeta ├║nica para este reporte\n4. Subir archivos a Google Drive\n5. Guardar metadata en Firebase con timestamp actual\n6. Retornar URLs y confirmaci├│n\n\n### ∩┐╜ Ejemplo de uso con HTML Form:\n```html\n<form method=\"POST\" enctype=\"multipart/form-data\">\n    <input name=\"referencia_contrato\" value=\"CONTRATO-2025-001\" required>\n    <textarea name=\"observaciones\" required>Avance del proyecto...</textarea>\n    <input name=\"avance_fisico\" type=\"number\" step=\"0.1\" min=\"0\" max=\"100\" required>\n    <input name=\"avance_financiero\" type=\"number\" step=\"0.1\" min=\"0\" max=\"100\" required>\n    <textarea name=\"alertas_descripcion\" required>Descripci├│n de alerta...</textarea>\n    <input name=\"alertas_es_alerta\" type=\"checkbox\">\n    <input name=\"alertas_tipo_alerta\" value=\"logistica,cronograma\">\n    <input name=\"archivos_evidencia\" type=\"file\" multiple accept=\".pdf,.doc,.docx,.xls,.xlsx,.jpg,.png,.gif\" required>\n    <button type=\"submit\">Crear Reporte</button>\n</form>\n```",
        "operationId": "crear_reporte_contrato_reportes_contratos__post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_crear_reporte_contrato_reportes_contratos__post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reportes_contratos/centro_gestor/{nombre_centro_gestor}": {
      "get": {
        "tags": [
          "Interoperabilidad con Artefacto de Seguimiento"
        ],
        "summary": "Obtener Reportes Por Centro Gestor",
        "description": "## ∩┐╜ Obtener Reportes por Centro Gestor\n\n**Prop├│sito**: Obtener reportes filtrados por nombre del centro gestor.\nLos resultados se ordenan por fecha de reporte descendente.\n\n### ≡ƒôï Par├ímetros:\n- **nombre_centro_gestor**: Nombre del centro gestor para filtrar reportes\n\n### ∩┐╜ Ordenamiento:\nLos resultados se ordenan por `fecha_reporte` descendente (m├ís recientes primero).\n\n### ≡ƒÆí Casos de uso:\n- Consultar reportes espec├¡ficos de un centro gestor\n- Dashboard por centro de responsabilidad\n- Seguimiento por ├írea organizacional",
        "operationId": "obtener_reportes_por_centro_gestor_reportes_contratos_centro_gestor__nombre_centro_gestor__get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Nombre Centro Gestor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reportes_contratos/referencia/{referencia_contrato}": {
      "get": {
        "tags": [
          "Interoperabilidad con Artefacto de Seguimiento"
        ],
        "summary": "Obtener Reportes Por Referencia Contrato",
        "description": "## ≡ƒôä Obtener Reportes por Referencia de Contrato\n\n**Prop├│sito**: Obtener reportes espec├¡ficos de un contrato usando su referencia.\nLos resultados se ordenan por fecha de reporte descendente.\n\n### ≡ƒôï Par├ímetros:\n- **referencia_contrato**: Referencia espec├¡fica del contrato\n\n### ≡ƒôè Ordenamiento:\nLos resultados se ordenan por `fecha_reporte` descendente (m├ís recientes primero).\n\n### ≡ƒÆí Casos de uso:\n- Historial completo de reportes de un contrato espec├¡fico\n- Seguimiento detallado por contrato\n- Auditor├¡a de reportes por referencia",
        "operationId": "obtener_reportes_por_referencia_contrato_reportes_contratos_referencia__referencia_contrato__get",
        "parameters": [
          {
            "name": "referencia_contrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Contrato"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/validate-session": {
      "post": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Validate Session",
        "description": "## ≡ƒöÉ Validaci├│n de Sesi├│n Activa para Next.js\n\nValida si un token de ID de Firebase es v├ílido y obtiene informaci├│n completa del usuario.\nOptimizado para integraci├│n con Next.js y Firebase Auth SDK del frontend.\n\n### Γ£à Casos de uso:\n- Middleware de autenticaci├│n en Next.js\n- Verificaci├│n de permisos antes de acciones sensibles\n- Obtener datos actualizados del usuario\n- Validar sesiones activas desde el frontend\n\n### ≡ƒöº Proceso:\n1. Verifica token de Firebase desde Authorization header o body\n2. Valida estado del usuario (activo/deshabilitado)\n3. Obtiene datos completos de perfil desde Firestore\n4. Verifica permisos y roles\n\n### ≡ƒô¥ Ejemplo de uso desde Next.js:\n```javascript\n// En tu frontend NextJS\nimport { getAuth } from 'firebase/auth';\n\nconst auth = getAuth();\nconst user = auth.currentUser;\nif (user) {\n    const idToken = await user.getIdToken();\n    const response = await fetch('/auth/validate-session', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${idToken}`\n        },\n        body: JSON.stringify({ id_token: idToken })\n    });\n    const data = await response.json();\n    if (data.success) {\n        console.log('Usuario autenticado:', data.user);\n    }\n}\n```",
        "operationId": "validate_session_auth_validate_session_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Login User",
        "description": "## ≡ƒöÉ Autenticaci├│n de Usuario con Email y Contrase├▒a\n\nValida credenciales de usuario usando Firebase Authentication.\nRequiere email y contrase├▒a v├ílidos para permitir el acceso.\n\n### Validaciones realizadas:\n- Formato de email v├ílido\n- Contrase├▒a correcta mediante Firebase Auth REST API\n- Usuario activo y no deshabilitado\n- Estado de cuenta en Firestore\n\n### Respuesta exitosa:\n- Informaci├│n completa del usuario\n- Tokens de Firebase para sesi├│n\n- Datos adicionales de Firestore\n\n### Errores comunes:\n- 401: Credenciales incorrectas\n- 403: Usuario deshabilitado o cuenta inactiva\n- 400: Formato de email inv├ílido",
        "operationId": "login_user_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register/health-check": {
      "get": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Register Health Check",
        "description": "## ≡ƒöì Health Check para Registro de Usuario\n\nVerifica que todos los servicios necesarios para el registro est├⌐n disponibles.\n├Ütil para diagnosticar problemas en producci├│n.",
        "operationId": "register_health_check_auth_register_health_check_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Register User",
        "description": "Γ£à **REGISTRO DE USUARIO - VERSI├ôN FUNCIONAL SIMPLIFICADA**\n\n**Fail Fast**: Si no hay Service Account configurado, falla inmediatamente\n**Sin Cache**: Cada request es independiente\n**Funcional**: Sin efectos colaterales entre registros",
        "operationId": "register_user_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegistrationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/change-password": {
      "post": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Change Password",
        "description": "## ≡ƒöÆ Cambio de Contrase├▒a\n\nActualiza contrase├▒as de usuarios con validaciones de seguridad completas.\n\n### Γ£à Casos de uso:\n- Reset de contrase├▒a por administrador\n- Cambio forzado por pol├¡ticas de seguridad\n- Actualizaci├│n por compromiso de cuenta\n\n### ≡ƒöº Validaciones:\n- Verificaci├│n de existencia del usuario\n- Validaci├│n de fortaleza de contrase├▒a (8+ caracteres, may├║sculas, min├║sculas, n├║meros, s├¡mbolos)\n- Actualizaci├│n en Firebase Auth\n- Registro de timestamp en Firestore\n- Contador de cambios de contrase├▒a\n\n### ≡ƒ¢í∩╕Å Seguridad:\n- Solo administradores pueden cambiar contrase├▒as\n- Hist├│rico de cambios para auditor├¡a\n- Notificaci├│n autom├ítica al usuario\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst passwordData = {\n  uid: \"Zx9mK2pQ8RhV3nL7jM4uX1qW6tY0sA5e\",\n  new_password: \"NuevaPassword123!\"\n};\nconst response = await fetch('/auth/change-password', {\n  method: 'POST', \n  body: JSON.stringify(passwordData)\n});\n```",
        "operationId": "change_password_auth_change_password_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_change_password_auth_change_password_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/config": {
      "get": {
        "tags": [
          "Integraci├│n con el Frontend (NextJS)"
        ],
        "summary": "Get Firebase Config",
        "description": "## ∩┐╜ Configuraci├│n B├ísica de Firebase para Frontend\n\n**ENDPOINT P├ÜBLICO** - Acceso directo desde frontend.\n\nProporciona configuraci├│n m├¡nima necesaria para Firebase Auth en frontend.\n\n### ∩┐╜∩╕Å Seguridad:\n- Informaci├│n p├║blica solamente\n- Datos m├¡nimos necesarios para SDK\n- Sin exposici├│n de endpoints internos\n- Sin detalles de configuraci├│n sensibles\n\n### ∩┐╜ Informaci├│n incluida:\n- Project ID de Firebase (p├║blico)\n- Auth Domain de Firebase (p├║blico)\n\n### ≡ƒÄ» Uso:\n- Inicializaci├│n de Firebase SDK en frontend\n- Configuraci├│n de autenticaci├│n client-side",
        "operationId": "get_firebase_config_auth_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/auth/workload-identity/status": {
      "get": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Get Workload Identity Status",
        "description": "## ≡ƒöì Estado de Autenticaci├│n con Google Cloud\n\n**ENDPOINT DE DIAGN├ôSTICO** - Verifica el estado de autenticaci├│n con Google Cloud.\n\n### ≡ƒôè Informaci├│n incluida:\n- Estado de Service Account Key o Workload Identity\n- Validez de credenciales con Google Cloud\n- Configuraci├│n de Firebase\n- Nivel de seguridad actual\n\n### ≡ƒ¢á∩╕Å ├Ütil para:\n- Verificar configuraci├│n despu├⌐s de deployment en Railway\n- Diagn├│stico de problemas de autenticaci├│n\n- Auditor├¡a de seguridad\n- Monitoreo del sistema\n\n### ΓÜá∩╕Å Nota:\nEste endpoint es principalmente para diagn├│stico. En producci├│n,\nconsidera eliminar o restringir acceso por seguridad.",
        "operationId": "get_workload_identity_status_auth_workload_identity_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/auth/google": {
      "post": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Google Auth Unified",
        "description": "## ≡ƒöÉ Autenticaci├│n Google - ENDPOINT ├ÜNICO\n\n**EL ├ÜNICO ENDPOINT** que necesitas para autenticaci├│n Google completa.\n\n### ≡ƒÄ» **Funcionalidad Completa:**\n- Γ£à Verifica token autom├íticamente con Workload Identity\n- Γ£à Crea usuarios nuevos autom├íticamente\n- Γ£à Actualiza usuarios existentes\n- Γ£à Valida dominio @cali.gov.co\n- Γ£à Retorna informaci├│n completa del usuario\n- Γ£à M├íxima seguridad sin configuraci├│n manual\n\n### ∩┐╜ **Uso desde Frontend:**\n```javascript\n// Despu├⌐s de Google Sign-In\nfunction handleGoogleAuth(response) {\n    fetch('/auth/google', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ google_token: response.credential })\n    })\n    .then(res => res.json())\n    .then(data => {\n        if (data.success) {\n            console.log('Γ£à Autenticado:', data.user);\n            // Tu l├│gica aqu├¡\n        }\n    });\n}\n```\n\n### ≡ƒô▒ **Compatible con:**\n- React, Vue, Angular, NextJS\n- Aplicaciones m├│viles\n- Progressive Web Apps\n- Cualquier framework que haga HTTP requests\n\n### ≡ƒöÆ **Seguridad:**\n- Workload Identity Federation\n- Sin credenciales en c├│digo\n- Verificaci├│n autom├ítica con Google\n- Auditor├¡a completa de accesos",
        "operationId": "google_auth_unified_auth_google_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_google_auth_unified_auth_google_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/user/{uid}": {
      "delete": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "Delete User",
        "description": "## ≡ƒùæ∩╕Å Eliminaci├│n de Usuario\n\nElimina cuentas con opciones flexibles de soft delete (recomendado) o hard delete.\n\n### Γ£à Casos de uso:\n- Desvinculaci├│n de empleados (soft delete)\n- Limpieza de cuentas de prueba (hard delete)\n- Cumplimiento de pol├¡ticas de retenci├│n de datos\n\n### ≡ƒöº Tipos de eliminaci├│n:\n- **Soft delete (predeterminado)**: Deshabilita usuario, mantiene datos para auditor├¡a\n- **Hard delete**: Elimina completamente de Firebase Auth y Firestore\n\n### ≡ƒ¢í∩╕Å Protecciones:\n- No permite eliminar el ├║ltimo administrador del sistema\n- Validaci├│n de permisos para hard delete\n- Registro de auditor├¡a de eliminaciones\n\n### ≡ƒô¥ Ejemplos de uso:\n```javascript\n// Eliminaci├│n l├│gica (recomendada)\nconst response = await fetch('/auth/user/Zx9mK2pQ8RhV3nL7jM4uX1qW6tY0sA5e?soft_delete=true', {\n  method: 'DELETE'\n});\n\n// Eliminaci├│n f├¡sica (permanente)\nconst response = await fetch('/auth/user/Zx9mK2pQ8RhV3nL7jM4uX1qW6tY0sA5e?soft_delete=false', {\n  method: 'DELETE'\n});\n```",
        "operationId": "delete_user_auth_user__uid__delete",
        "parameters": [
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Uid"
            }
          },
          {
            "name": "soft_delete",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Eliminaci├│n l├│gica (true) o f├¡sica (false)",
              "title": "Soft Delete"
            },
            "description": "Eliminaci├│n l├│gica (true) o f├¡sica (false)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "get": {
        "tags": [
          "Administraci├│n y Control de Accesos"
        ],
        "summary": "List System Users",
        "description": "## ≡ƒôï Listado de Usuarios desde Firestore\n\nLee directamente la colecci├│n \"users\" de Firestore y devuelve todos los usuarios registrados.\n\n### ∩┐╜ Informaci├│n incluida:\n- UID del usuario\n- Email y nombre completo\n- Tel├⌐fono y centro gestor\n- Fechas de creaci├│n y actualizaci├│n\n- Estado de activaci├│n y verificaci├│n\n- Proveedores de autenticaci├│n\n- Estad├¡sticas de login\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/admin/users?limit=50');\nconst data = await response.json();\nconsole.log(`Encontrados ${data.count} usuarios`);\n```",
        "operationId": "list_system_users_admin_users_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "L├¡mite de resultados por p├ígina",
              "default": 100,
              "title": "Limit"
            },
            "description": "L├¡mite de resultados por p├ígina"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/cargar-proceso": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar Proceso de Empr├⌐stito",
        "description": "## ∩┐╜ POST | ≡ƒôÑ Carga de Datos | Cargar Proceso de Empr├⌐stito\n\nEndpoint unificado para carga de procesos de empr├⌐stito con detecci├│n autom├ítica \nde plataforma (SECOP/TVEC) y validaci├│n de duplicados.\n\n### Γ£à Funcionalidades principales:\n- **Detecci├│n autom├ítica**: Identifica si es SECOP o TVEC basado en el campo `plataforma`\n- **Validaci├│n de duplicados**: Verifica existencia previa usando `referencia_proceso`\n- **Integraci├│n API**: Obtiene datos completos desde APIs externas (SECOP/TVEC)\n- **Almacenamiento inteligente**: Guarda en colecci├│n apropiada seg├║n plataforma\n\n### ≡ƒöì Detecci├│n de plataforma:\n**SECOP**: \"SECOP\", \"SECOP II\", \"SECOP I\", \"SECOP 2\", \"SECOP 1\" y variantes\n**TVEC**: \"TVEC\" y variantes\n\n### ≡ƒôè Almacenamiento por plataforma:\n- **SECOP** ΓåÆ Colecci├│n: `procesos_emprestito`\n- **TVEC** ΓåÆ Colecci├│n: `ordenes_compra_emprestito`\n\n### ≡ƒ¢í∩╕Å Validaci├│n de duplicados:\nBusca `referencia_proceso` en ambas colecciones antes de crear nuevo registro.\n\n### ΓÜÖ∩╕Å Campos obligatorios:\n- `referencia_proceso`: Referencia del proceso\n- `nombre_centro_gestor`: Centro gestor responsable\n- `nombre_banco`: Nombre del banco\n- `plataforma`: Plataforma (SECOP/TVEC)\n\n### ≡ƒô¥ Campos opcionales:\n- `bp`: C├│digo BP\n- `nombre_resumido_proceso`: Nombre resumido\n- `id_paa`: ID PAA\n- `valor_proyectado`: Valor proyectado\n\n### ≡ƒöù Integraci├│n con APIs:\n**SECOP**: Obtiene datos desde API de datos abiertos (p6dx-8zbt)\n**TVEC**: Obtiene datos desde API TVEC (rgxm-mmea)\n\n### ≡ƒôï Ejemplo de request:\n```json\n{\n    \"referencia_proceso\": \"SCMGSU-CM-003-2024\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"nombre_banco\": \"Banco Mundial\",\n    \"bp\": \"BP-2024-001\",\n    \"plataforma\": \"SECOP II\",\n    \"nombre_resumido_proceso\": \"Suministro equipos m├⌐dicos\",\n    \"id_paa\": \"PAA-2024-123\",\n    \"valor_proyectado\": 1500000000.0\n}\n```",
        "operationId": "cargar_proceso_emprestito_emprestito_cargar_proceso_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_proceso_emprestito_emprestito_cargar_proceso_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/cargar-orden-compra": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar Orden de Compra",
        "description": "## ∩┐╜ POST | ≡ƒôÑ Carga de Datos | Cargar Orden de Compra de Empr├⌐stito\n\nEndpoint para carga directa de ├│rdenes de compra de empr├⌐stito en la colecci├│n \n`ordenes_compra_emprestito` sin procesamiento de APIs externas.\n\n### Γ£à Funcionalidades principales:\n- **Carga directa**: Registra directamente en `ordenes_compra_emprestito`\n- **Validaci├│n de duplicados**: Verifica existencia previa usando `numero_orden`\n- **Validaci├│n de campos**: Verifica que todos los campos obligatorios est├⌐n presentes\n- **Timestamps autom├íticos**: Agrega fecha de creaci├│n y actualizaci├│n\n\n### ΓÜÖ∩╕Å Campos obligatorios:\n- `numero_orden`: N├║mero ├║nico de la orden de compra\n- `nombre_centro_gestor`: Centro gestor responsable\n- `nombre_banco`: Nombre del banco\n- `nombre_resumido_proceso`: Nombre resumido del proceso\n- `valor_proyectado`: Valor proyectado en pesos colombianos\n\n### ≡ƒô¥ Campos opcionales:\n- `bp`: C├│digo BP\n\n### ≡ƒ¢í∩╕Å Validaci├│n de duplicados:\nBusca `numero_orden` en la colecci├│n `ordenes_compra_emprestito` antes de crear nuevo registro.\n\n### ≡ƒôè Estructura de datos guardados:\n```json\n{\n    \"numero_orden\": \"OC-2024-001\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"nombre_banco\": \"Banco Mundial\",\n    \"nombre_resumido_proceso\": \"Suministro equipos m├⌐dicos\",\n    \"valor_proyectado\": 1500000000.0,\n    \"bp\": \"BP-2024-001\",\n    \"fecha_creacion\": \"2024-10-14T10:30:00\",\n    \"fecha_actualizacion\": \"2024-10-14T10:30:00\",\n    \"estado\": \"activo\",\n    \"tipo\": \"orden_compra_manual\"\n}\n```\n\n### ≡ƒôï Ejemplo de request:\n```json\n{\n    \"numero_orden\": \"OC-SALUD-003-2024\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"nombre_banco\": \"Banco Mundial\",\n    \"nombre_resumido_proceso\": \"Suministro equipos m├⌐dicos\",\n    \"valor_proyectado\": 1500000000.0,\n    \"bp\": \"BP-2024-001\"\n}\n```\n\n### Γ£à Respuesta exitosa (201):\n```json\n{\n    \"success\": true,\n    \"message\": \"Orden de compra OC-SALUD-003-2024 guardada exitosamente\",\n    \"doc_id\": \"abc123def456\",\n    \"data\": { ... },\n    \"coleccion\": \"ordenes_compra_emprestito\"\n}\n```\n\n### Γ¥î Respuesta de duplicado (409):\n```json\n{\n    \"success\": false,\n    \"error\": \"Ya existe una orden de compra con n├║mero: OC-SALUD-003-2024\",\n    \"duplicate\": true,\n    \"existing_data\": { ... }\n}\n```",
        "operationId": "cargar_orden_compra_emprestito_emprestito_cargar_orden_compra_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_orden_compra_emprestito_emprestito_cargar_orden_compra_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/cargar-convenio-transferencia": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar Convenio de Transferencia",
        "description": "## ≡ƒô¥ POST | ≡ƒôÑ Carga de Datos | Cargar Convenio de Transferencia de Empr├⌐stito\n\nEndpoint para carga directa de convenios de transferencia de empr├⌐stito en la colecci├│n \n`convenios_transferencias_emprestito` sin procesamiento de APIs externas.\n\n### Γ£à Funcionalidades principales:\n- **Carga directa**: Registra directamente en `convenios_transferencias_emprestito`\n- **Validaci├│n de duplicados**: Verifica existencia previa usando `referencia_contrato`\n- **Validaci├│n de campos**: Verifica que todos los campos obligatorios est├⌐n presentes\n- **Timestamps autom├íticos**: Agrega fecha de creaci├│n y actualizaci├│n\n\n### ΓÜÖ∩╕Å Campos obligatorios:\n- `referencia_contrato`: Referencia ├║nica del contrato/convenio\n- `nombre_centro_gestor`: Centro gestor responsable\n- `banco`: Nombre del banco\n- `objeto_contrato`: Descripci├│n del objeto del contrato\n- `valor_contrato`: Valor del contrato en pesos colombianos\n\n### ≡ƒô¥ Campos opcionales:\n- `bp`: C├│digo BP\n- `bpin`: C├│digo BPIN (Banco de Programas y Proyectos de Inversi├│n Nacional)\n- `valor_convenio`: Valor espec├¡fico del convenio\n- `urlproceso`: URL del proceso de contrataci├│n\n- `fecha_inicio_contrato`: Fecha de inicio del contrato\n- `fecha_fin_contrato`: Fecha de finalizaci├│n del contrato\n- `modalidad_contrato`: Modalidad de contrataci├│n\n- `ordenador_gastor`: Ordenador del gasto\n- `tipo_contrato`: Tipo de contrato\n- `estado_contrato`: Estado actual del contrato\n- `sector`: Sector al que pertenece\n\n### ≡ƒ¢í∩╕Å Validaci├│n de duplicados:\nBusca `referencia_contrato` en la colecci├│n `convenios_transferencias_emprestito` antes de crear nuevo registro.\n\n### ≡ƒôè Estructura de datos guardados:\n```json\n{\n    \"referencia_contrato\": \"CONV-2024-001\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"banco\": \"Banco Mundial\",\n    \"objeto_contrato\": \"Convenio de transferencia para equipamiento m├⌐dico\",\n    \"valor_contrato\": 1500000000.0,\n    \"valor_convenio\": 1200000000.0,\n    \"bp\": \"BP-2024-001\",\n    \"bpin\": \"2024000010001\",\n    \"urlproceso\": \"https://...\",\n    \"fecha_inicio_contrato\": \"2024-01-15\",\n    \"fecha_fin_contrato\": \"2024-12-31\",\n    \"modalidad_contrato\": \"Convenio de Transferencia\",\n    \"ordenador_gastor\": \"Juan P├⌐rez\",\n    \"tipo_contrato\": \"Transferencia\",\n    \"estado_contrato\": \"Activo\",\n    \"sector\": \"Salud\",\n    \"fecha_creacion\": \"2024-10-14T10:30:00\",\n    \"fecha_actualizacion\": \"2024-10-14T10:30:00\",\n    \"estado\": \"activo\",\n    \"tipo\": \"convenio_transferencia_manual\"\n}\n```\n\n### ≡ƒôï Ejemplo de request:\n```json\n{\n    \"referencia_contrato\": \"CONV-SALUD-003-2024\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"banco\": \"Banco Mundial\",\n    \"objeto_contrato\": \"Convenio de transferencia para equipamiento m├⌐dico\",\n    \"valor_contrato\": 1500000000.0,\n    \"valor_convenio\": 1200000000.0,\n    \"bp\": \"BP-2024-001\",\n    \"modalidad_contrato\": \"Convenio de Transferencia\",\n    \"estado_contrato\": \"Activo\"\n}\n```\n\n### Γ£à Respuesta exitosa (201):\n```json\n{\n    \"success\": true,\n    \"message\": \"Convenio de transferencia CONV-SALUD-003-2024 guardado exitosamente\",\n    \"doc_id\": \"abc123def456\",\n    \"data\": { ... },\n    \"coleccion\": \"convenios_transferencias_emprestito\"\n}\n```\n\n### Γ¥î Respuesta de duplicado (409):\n```json\n{\n    \"success\": false,\n    \"error\": \"Ya existe un convenio de transferencia con referencia: CONV-SALUD-003-2024\",\n    \"duplicate\": true,\n    \"existing_data\": { ... }\n}\n```",
        "operationId": "cargar_convenio_transferencia_emprestito_emprestito_cargar_convenio_transferencia_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_convenio_transferencia_emprestito_emprestito_cargar_convenio_transferencia_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/modificar-convenio-transferencia": {
      "put": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒá Modificar Convenio de Transferencia",
        "description": "## ≡ƒƒá PUT | Γ£Å∩╕Å Actualizaci├│n | Modificar Convenio de Transferencia de Empr├⌐stito\n\nEndpoint para modificar cualquier campo de un convenio de transferencia existente \nen la colecci├│n `convenios_transferencias_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Actualizaci├│n flexible**: Permite modificar cualquier campo del convenio\n- **Actualizaci├│n parcial**: Solo se actualizan los campos proporcionados\n- **Validaci├│n de existencia**: Verifica que el documento exista antes de actualizar\n- **Timestamp autom├ítico**: Actualiza autom├íticamente `fecha_actualizacion`\n- **Preservaci├│n de datos**: Los campos no proporcionados mantienen sus valores originales\n\n### ΓÜÖ∩╕Å Campo obligatorio:\n- `doc_id`: ID del documento de Firestore que se desea modificar\n\n### ≡ƒô¥ Campos opcionales (todos):\nCualquiera de estos campos puede ser actualizado:\n- `referencia_contrato`: Referencia del contrato/convenio\n- `nombre_centro_gestor`: Centro gestor responsable\n- `banco`: Nombre del banco\n- `objeto_contrato`: Objeto del contrato\n- `valor_contrato`: Valor del contrato\n- `bp`: C├│digo BP\n- `bpin`: C├│digo BPIN\n- `valor_convenio`: Valor del convenio\n- `urlproceso`: URL del proceso\n- `fecha_inicio_contrato`: Fecha de inicio\n- `fecha_fin_contrato`: Fecha de finalizaci├│n\n- `modalidad_contrato`: Modalidad de contrataci├│n\n- `ordenador_gastor`: Ordenador del gasto\n- `tipo_contrato`: Tipo de contrato\n- `estado_contrato`: Estado actual\n- `sector`: Sector al que pertenece\n- `nombre_resumido_proceso`: Nombre resumido del proceso\n\n### ≡ƒôï Ejemplo de request (actualizaci├│n parcial):\n```json\n{\n    \"doc_id\": \"abc123def456\",\n    \"estado_contrato\": \"Finalizado\",\n    \"fecha_fin_contrato\": \"2024-12-31\"\n}\n```\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"message\": \"Convenio de transferencia actualizado exitosamente\",\n    \"doc_id\": \"abc123def456\",\n    \"campos_actualizados\": [\"estado_contrato\", \"fecha_fin_contrato\"],\n    \"data\": { ... },\n    \"timestamp\": \"2024-11-17T10:30:00\"\n}\n```\n\n### Γ¥î Respuesta de error (404):\n```json\n{\n    \"success\": false,\n    \"error\": \"No se encontr├│ el convenio de transferencia con ID: abc123\",\n    \"doc_id\": \"abc123\"\n}\n```\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-convenio-transferencia` - Para crear nuevos convenios\n- `GET /convenios_transferencias_all` - Para consultar convenios existentes",
        "operationId": "modificar_convenio_transferencia_emprestito_emprestito_modificar_convenio_transferencia_put",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_modificar_convenio_transferencia_emprestito_emprestito_modificar_convenio_transferencia_put"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/cargar-rpc": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar RPC de Empr├⌐stito",
        "description": "## ≡ƒô¥ POST | ≡ƒôÑ Carga de Datos | Cargar RPC (Registro Presupuestal de Compromiso) de Empr├⌐stito\n\nEndpoint para carga directa de RPC de empr├⌐stito en la colecci├│n \n`rpc_contratos_emprestito` sin procesamiento de APIs externas.\n\n### Γ£à Funcionalidades principales:\n- **Carga directa**: Registra directamente en `rpc_contratos_emprestito`\n- **Validaci├│n de duplicados**: Verifica existencia previa usando `numero_rpc`\n- **Validaci├│n de campos**: Verifica que todos los campos obligatorios est├⌐n presentes\n- **Timestamps autom├íticos**: Agrega fecha de creaci├│n y actualizaci├│n\n- **Programaci├│n PAC**: Soporte para objeto JSON con valores mensuales\n\n### ΓÜÖ∩╕Å Campos obligatorios:\n- `numero_rpc`: N├║mero ├║nico del RPC\n- `beneficiario_id`: Identificaci├│n del beneficiario\n- `beneficiario_nombre`: Nombre completo del beneficiario\n- `descripcion_rpc`: Descripci├│n del compromiso\n- `fecha_contabilizacion`: Fecha de contabilizaci├│n del RPC\n- `fecha_impresion`: Fecha de impresi├│n del documento\n- `estado_liberacion`: Estado de liberaci├│n del RPC\n- `bp`: C├│digo BP (Banco de Programas)\n- `valor_rpc`: Valor monetario del RPC\n- `nombre_centro_gestor`: Centro gestor responsable\n- `referencia_contrato`: Referencia del contrato asociado\n\n### ≡ƒô¥ Campos opcionales:\n- `cdp_asociados`: Lista de CDPs (Certificados de Disponibilidad Presupuestal) asociados\n  - Puede enviarse como: `\"CDP-001,CDP-002,CDP-003\"` (separados por comas)\n  - O como JSON array: `[\"CDP-001\", \"CDP-002\", \"CDP-003\"]`\n  - Si se deja vac├¡o, se guardar├í como lista vac├¡a `[]`\n- `programacion_pac`: Objeto JSON con programaci├│n mensual del PAC (Plan Anual de Caja)\n  - Formato: `{\"enero-2024\": \"1000000\", \"febrero-2024\": \"500000\"}`\n  - **IMPORTANTE**: Debe ser un objeto JSON v├ílido si se proporciona\n  - Si no es JSON v├ílido, se ignorar├í y se guardar├í como objeto vac├¡o `{}`\n\n### ≡ƒ¢í∩╕Å Validaci├│n de duplicados:\nBusca `numero_rpc` en la colecci├│n `rpc_contratos_emprestito` antes de crear nuevo registro.\n\n### ≡ƒôè Estructura de datos guardados:\n```json\n{\n    \"numero_rpc\": \"RPC-2024-001\",\n    \"beneficiario_id\": \"890123456\",\n    \"beneficiario_nombre\": \"Proveedor XYZ S.A.S.\",\n    \"descripcion_rpc\": \"Suministro de equipos m├⌐dicos\",\n    \"fecha_contabilizacion\": \"2024-10-15\",\n    \"fecha_impresion\": \"2024-10-16\",\n    \"estado_liberacion\": \"Liberado\",\n    \"bp\": \"BP-2024-001\",\n    \"valor_rpc\": 50000000.0,\n    \"cdp_asociados\": [\"CDP-2024-100\", \"CDP-2024-101\", \"CDP-2024-102\"],\n    \"programacion_pac\": {\n        \"enero-2024\": \"10000000\",\n        \"febrero-2024\": \"20000000\",\n        \"marzo-2024\": \"20000000\"\n    },\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n    \"fecha_creacion\": \"2024-10-14T10:30:00\",\n    \"fecha_actualizacion\": \"2024-10-14T10:30:00\",\n    \"estado\": \"activo\",\n    \"tipo\": \"rpc_manual\"\n}\n```\n\n### ≡ƒôï Ejemplo de request:\n```json\n{\n    \"numero_rpc\": \"RPC-SALUD-003-2024\",\n    \"beneficiario_id\": \"890123456\",\n    \"beneficiario_nombre\": \"Proveedor XYZ S.A.S.\",\n    \"descripcion_rpc\": \"Suministro de equipos m├⌐dicos\",\n    \"fecha_contabilizacion\": \"2024-10-15\",\n    \"fecha_impresion\": \"2024-10-16\",\n    \"estado_liberacion\": \"Liberado\",\n    \"bp\": \"BP-2024-001\",\n    \"valor_rpc\": 50000000.0,\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n    \"cdp_asociados\": \"CDP-2024-100\",\n    \"programacion_pac\": \"{\\\"enero-2024\\\": \\\"10000000\\\", \\\"febrero-2024\\\": \\\"20000000\\\"}\"\n}\n```\n\n### Γ£à Respuesta exitosa (201):\n```json\n{\n    \"success\": true,\n    \"message\": \"RPC RPC-SALUD-003-2024 guardado exitosamente\",\n    \"doc_id\": \"abc123def456\",\n    \"data\": { ... },\n    \"coleccion\": \"rpc_contratos_emprestito\"\n}\n```\n\n### Γ¥î Respuesta de duplicado (409):\n```json\n{\n    \"success\": false,\n    \"error\": \"Ya existe un RPC con n├║mero: RPC-SALUD-003-2024\",\n    \"duplicate\": true,\n    \"existing_data\": { ... }\n}\n```",
        "operationId": "cargar_rpc_emprestito_endpoint_emprestito_cargar_rpc_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_rpc_emprestito_endpoint_emprestito_cargar_rpc_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/cargar-pago": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar Pago de Empr├⌐stito",
        "description": "## ≡ƒô¥ POST | ≡ƒôÑ Carga de Datos | Cargar Pago de Empr├⌐stito\n\nEndpoint para registrar un pago de empr├⌐stito en la colecci├│n `pagos_emprestito`.\nEl campo `fecha_registro` se genera autom├íticamente con la hora actual del sistema como timestamp.\n\n### Γ£à Funcionalidades principales:\n- **Registro de pagos**: Guarda informaci├│n de pagos realizados\n- **Timestamp autom├ítico**: `fecha_registro` se genera autom├íticamente con la hora del sistema\n- **Validaci├│n de campos**: Verifica que todos los campos obligatorios est├⌐n presentes\n- **Validaci├│n de valores**: Verifica que el valor del pago sea positivo\n- **Trazabilidad**: Registra fecha de creaci├│n y actualizaci├│n\n\n### ΓÜÖ∩╕Å Campos obligatorios:\n- `numero_rpc`: N├║mero del RPC asociado al pago\n- `valor_pago`: Valor monetario del pago (debe ser mayor a 0)\n- `fecha_transaccion`: Fecha en que se realiz├│ la transacci├│n\n- `referencia_contrato`: Referencia del contrato asociado\n- `nombre_centro_gestor`: Centro gestor responsable del pago\n\n### ≡ƒñû Campos autom├íticos:\n- `fecha_registro`: Timestamp autom├ítico del momento de registro (NO se env├¡a por el usuario)\n- `fecha_creacion`: Timestamp de creaci├│n del registro\n- `fecha_actualizacion`: Timestamp de ├║ltima actualizaci├│n\n- `estado`: \"registrado\" (valor por defecto)\n- `tipo`: \"pago_manual\" (valor por defecto)\n\n### ≡ƒôè Estructura de datos guardados:\n```json\n{\n    \"numero_rpc\": \"RPC-2024-001\",\n    \"valor_pago\": 10000000.0,\n    \"fecha_transaccion\": \"2024-11-11\",\n    \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n    \"fecha_registro\": \"2024-11-11T14:30:45.123456\",\n    \"fecha_creacion\": \"2024-11-11T14:30:45.123456\",\n    \"fecha_actualizacion\": \"2024-11-11T14:30:45.123456\",\n    \"estado\": \"registrado\",\n    \"tipo\": \"pago_manual\"\n}\n```\n\n### ≡ƒôï Ejemplo de request:\n```json\n{\n    \"numero_rpc\": \"RPC-SALUD-003-2024\",\n    \"valor_pago\": 10000000.0,\n    \"fecha_transaccion\": \"2024-11-11\",\n    \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n    \"nombre_centro_gestor\": \"Secretar├¡a de Salud\"\n}\n```\n\n### Γ£à Respuesta exitosa (201):\n```json\n{\n    \"success\": true,\n    \"message\": \"Pago registrado exitosamente para RPC RPC-SALUD-003-2024\",\n    \"data\": { ... },\n    \"doc_id\": \"abc123def456\",\n    \"coleccion\": \"pagos_emprestito\",\n    \"timestamp\": \"2024-11-11T14:30:45.123456\"\n}\n```\n\n### Γ¥î Respuesta de error (400):\n```json\n{\n    \"success\": false,\n    \"error\": \"El campo 'numero_rpc' es obligatorio\",\n    \"message\": \"Error al procesar el pago\",\n    \"timestamp\": \"2024-11-11T14:30:45.123456\"\n}\n```\n\n### ≡ƒÆí Notas importantes:\n- El campo `fecha_registro` NO debe ser enviado por el usuario\n- Se genera autom├íticamente con la hora exacta del servidor\n- El `valor_pago` debe ser un n├║mero positivo mayor a 0\n- Todos los campos de texto se limpian de espacios en blanco",
        "operationId": "cargar_pago_emprestito_endpoint_emprestito_cargar_pago_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_pago_emprestito_endpoint_emprestito_cargar_pago_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/contratos_pagos_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Obtener Todos los Pagos",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Consultas | Obtener Todos los Pagos de Empr├⌐stito\n\nEndpoint para obtener todos los pagos de empr├⌐stito registrados en la colecci├│n `pagos_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Listado completo**: Retorna todos los pagos registrados\n- **Datos completos**: Incluye todos los campos de cada pago\n- **Metadatos**: Incluye ID del documento, conteo total y timestamp\n- **Serializaci├│n JSON**: Fechas y objetos datetime convertidos correctamente\n- **Trazabilidad**: Informaci├│n completa de cada transacci├│n registrada\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del pago\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n- Datos serializados correctamente para JSON\n\n### ≡ƒùä∩╕Å Campos principales esperados:\n- **numero_rpc**: N├║mero del RPC asociado al pago\n- **valor_pago**: Valor monetario del pago realizado\n- **fecha_transaccion**: Fecha en que se realiz├│ la transacci├│n\n- **referencia_contrato**: Referencia del contrato asociado\n- **nombre_centro_gestor**: Centro gestor responsable\n- **fecha_registro**: Timestamp autom├ítico del momento del registro\n- **fecha_creacion**: Fecha de creaci├│n del registro\n- **fecha_actualizacion**: ├Ültima actualizaci├│n del registro\n- **estado**: Estado del pago (registrado, procesado, etc.)\n- **tipo**: Tipo de registro (pago_manual)\n\n### ≡ƒÆí Casos de uso:\n- Obtener historial completo de pagos de empr├⌐stito\n- Consulta de pagos para reportes financieros\n- An├ílisis de flujo de caja y ejecuci├│n presupuestal\n- Seguimiento de transacciones por RPC\n- Dashboard de pagos realizados\n- Exportaci├│n de datos para auditor├¡as\n- Integraci├│n con sistemas contables\n- Reportes de ejecuci├│n por centro gestor\n\n### ≡ƒôê An├ílisis posibles:\n- Total de pagos realizados\n- Suma de valores pagados\n- Pagos por centro gestor\n- Pagos por contrato\n- Pagos por RPC\n- Hist├│rico de transacciones\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"data\": [\n        {\n            \"id\": \"xyz789\",\n            \"numero_rpc\": \"RPC-2024-001\",\n            \"valor_pago\": 10000000.0,\n            \"fecha_transaccion\": \"2024-11-11\",\n            \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n            \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n            \"fecha_registro\": \"2024-11-11T14:30:45.123456\",\n            \"fecha_creacion\": \"2024-11-11T14:30:45.123456\",\n            \"fecha_actualizacion\": \"2024-11-11T14:30:45.123456\",\n            \"estado\": \"registrado\",\n            \"tipo\": \"pago_manual\"\n        },\n        {\n            \"id\": \"abc456\",\n            \"numero_rpc\": \"RPC-2024-002\",\n            \"valor_pago\": 5000000.0,\n            \"fecha_transaccion\": \"2024-11-10\",\n            \"referencia_contrato\": \"CONT-INFRA-001-2024\",\n            \"nombre_centro_gestor\": \"Secretar├¡a de Infraestructura\",\n            \"fecha_registro\": \"2024-11-10T10:15:30.654321\",\n            \"fecha_creacion\": \"2024-11-10T10:15:30.654321\",\n            \"fecha_actualizacion\": \"2024-11-10T10:15:30.654321\",\n            \"estado\": \"registrado\",\n            \"tipo\": \"pago_manual\"\n        }\n    ],\n    \"count\": 15,\n    \"collection\": \"pagos_emprestito\",\n    \"timestamp\": \"2024-11-11T15:00:00.000000\",\n    \"message\": \"Se obtuvieron 15 pagos exitosamente\"\n}\n```\n\n### Γ¥î Respuesta de error (500):\n```json\n{\n    \"success\": false,\n    \"error\": \"Error obteniendo pagos de empr├⌐stito: [detalles del error]\",\n    \"data\": [],\n    \"count\": 0\n}\n```\n\n### ≡ƒô¥ Notas:\n- Los campos de tipo datetime se serializan en formato ISO 8601\n- El campo `id` corresponde al ID del documento en Firestore\n- Los datos se retornan en el orden en que fueron insertados en Firestore\n- Para consultas filtradas, considere crear endpoints espec├¡ficos adicionales",
        "operationId": "get_all_pagos_emprestito_contratos_pagos_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/rpc_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Obtener Todos los RPCs",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Consultas | Obtener Todos los RPCs de Empr├⌐stito\n\nEndpoint para obtener todos los RPC (Registros Presupuestales de Compromiso) de empr├⌐stito \nalmacenados en la colecci├│n `rpc_contratos_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Listado completo**: Retorna todos los RPCs registrados\n- **Datos completos**: Incluye todos los campos de cada RPC\n- **Metadatos**: Incluye ID del documento, conteo total y timestamp\n- **Serializaci├│n JSON**: Fechas y objetos convertidos correctamente\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del RPC\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n- Datos serializados correctamente para JSON\n\n### ≡ƒùä∩╕Å Campos principales esperados:\n- **numero_rpc**: N├║mero ├║nico del RPC\n- **beneficiario_id**: Identificaci├│n del beneficiario\n- **beneficiario_nombre**: Nombre del beneficiario\n- **descripcion_rpc**: Descripci├│n del compromiso\n- **fecha_contabilizacion**: Fecha de contabilizaci├│n\n- **fecha_impresion**: Fecha de impresi├│n del documento\n- **estado_liberacion**: Estado de liberaci├│n del RPC\n- **bp**: C├│digo BP (Banco de Programas)\n- **valor_rpc**: Valor monetario del RPC\n- **cdp_asociados**: Lista de CDPs asociados\n- **programacion_pac**: Objeto con programaci├│n mensual del PAC\n- **nombre_centro_gestor**: Centro gestor responsable\n- **referencia_contrato**: Referencia del contrato asociado\n- **fecha_creacion**: Fecha de creaci├│n del registro\n- **fecha_actualizacion**: ├Ültima actualizaci├│n\n- **estado**: Estado del registro (activo/inactivo)\n- **tipo**: Tipo de registro (rpc_manual)\n\n### ≡ƒÆí Casos de uso:\n- Obtener listado completo de RPCs de empr├⌐stito\n- Exportaci├│n de datos para an├ílisis\n- Integraci├│n con sistemas externos\n- Reportes y dashboards de seguimiento presupuestal\n- Monitoreo de compromisos presupuestales\n- An├ílisis de ejecuci├│n presupuestal por contrato\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"data\": [\n        {\n            \"id\": \"abc123\",\n            \"numero_rpc\": \"RPC-2024-001\",\n            \"beneficiario_id\": \"890123456\",\n            \"beneficiario_nombre\": \"Proveedor XYZ S.A.S.\",\n            \"descripcion_rpc\": \"Suministro de equipos m├⌐dicos\",\n            \"fecha_contabilizacion\": \"2024-10-15\",\n            \"fecha_impresion\": \"2024-10-16\",\n            \"estado_liberacion\": \"Liberado\",\n            \"bp\": \"BP-2024-001\",\n            \"valor_rpc\": 50000000.0,\n            \"cdp_asociados\": [\"CDP-2024-100\", \"CDP-2024-101\"],\n            \"programacion_pac\": {\n                \"enero-2024\": \"10000000\",\n                \"febrero-2024\": \"20000000\"\n            },\n            \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n            \"referencia_contrato\": \"CONT-SALUD-003-2024\",\n            \"fecha_creacion\": \"2024-10-14T10:30:00\",\n            \"fecha_actualizacion\": \"2024-10-14T10:30:00\",\n            \"estado\": \"activo\",\n            \"tipo\": \"rpc_manual\"\n        }\n    ],\n    \"count\": 25,\n    \"collection\": \"rpc_contratos_emprestito\",\n    \"timestamp\": \"2024-11-11T...\",\n    \"message\": \"Se obtuvieron 25 RPCs exitosamente\"\n}\n```\n\n### Γ¥î Respuesta de error (500):\n```json\n{\n    \"success\": false,\n    \"error\": \"Error obteniendo RPCs: ...\",\n    \"data\": [],\n    \"count\": 0\n}\n```\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-rpc` - Para crear nuevos RPCs\n- `GET /convenios_transferencias_all` - Para consultar convenios de transferencia",
        "operationId": "get_all_rpc_contratos_emprestito_rpc_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/convenios_transferencias_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Obtener Todos los Convenios de Transferencia",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Consultas | Obtener Todos los Convenios de Transferencia\n\nEndpoint para obtener todos los convenios de transferencia de empr├⌐stito \nalmacenados en la colecci├│n `convenios_transferencias_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Listado completo**: Retorna todos los convenios registrados\n- **Ordenamiento**: Por fecha de creaci├│n (m├ís recientes primero)\n- **Datos completos**: Incluye todos los campos de cada convenio\n- **Metadatos**: Incluye ID del documento, conteo total y timestamp\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del convenio\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n- Datos serializados correctamente para JSON\n\n### ≡ƒùä∩╕Å Campos principales esperados:\n- **referencia_contrato**: Referencia ├║nica del contrato/convenio\n- **nombre_centro_gestor**: Centro gestor responsable\n- **banco**: Nombre del banco\n- **bp**: C├│digo BP\n- **bpin**: C├│digo BPIN\n- **objeto_contrato**: Descripci├│n del objeto del contrato\n- **valor_contrato**: Valor del contrato\n- **valor_convenio**: Valor espec├¡fico del convenio\n- **fecha_inicio_contrato**: Fecha de inicio\n- **fecha_fin_contrato**: Fecha de finalizaci├│n\n- **modalidad_contrato**: Modalidad de contrataci├│n\n- **ordenador_gastor**: Ordenador del gasto\n- **tipo_contrato**: Tipo de contrato\n- **estado_contrato**: Estado actual\n- **sector**: Sector al que pertenece\n- **nombre_resumido_proceso**: Nombre resumido del proceso\n- **fecha_creacion**: Fecha de creaci├│n del registro\n- **fecha_actualizacion**: ├Ültima actualizaci├│n\n- **estado**: Estado del registro (activo/inactivo)\n- **tipo**: Tipo de registro\n\n### ≡ƒÆí Casos de uso:\n- Obtener listado completo de convenios de transferencia\n- Exportaci├│n de datos para an├ílisis\n- Integraci├│n con sistemas externos\n- Reportes y dashboards\n- Monitoreo del estado de convenios\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"data\": [\n        {\n            \"id\": \"abc123\",\n            \"referencia_contrato\": \"CONV-2024-001\",\n            \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n            \"banco\": \"Banco Mundial\",\n            \"objeto_contrato\": \"Convenio de transferencia...\",\n            \"valor_contrato\": 1500000000.0,\n            \"bpin\": \"2024000010001\",\n            ...\n        }\n    ],\n    \"count\": 15,\n    \"collection\": \"convenios_transferencias_emprestito\",\n    \"timestamp\": \"2024-11-09T...\",\n    \"message\": \"Se obtuvieron 15 convenios de transferencia exitosamente\"\n}\n```\n\n### Γ¥î Respuesta de error (500):\n```json\n{\n    \"success\": false,\n    \"error\": \"Error obteniendo convenios de transferencia: ...\",\n    \"data\": [],\n    \"count\": 0\n}\n```\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-convenio-transferencia` - Para crear nuevos convenios\n- `GET /bancos_emprestito_all` - Para consultar bancos disponibles",
        "operationId": "get_all_convenios_transferencia_emprestito_convenios_transferencias_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/pagos_emprestito_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Obtener Todos los Pagos de Empr├⌐stito",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Consultas | Obtener Todos los Pagos de Empr├⌐stito\n\nEndpoint para obtener todos los pagos de empr├⌐stito almacenados en la colecci├│n `pagos_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Listado completo**: Retorna todos los pagos registrados\n- **Datos completos**: Incluye todos los campos de cada pago\n- **Metadatos**: Incluye ID del documento, conteo total y timestamp\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del pago\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"data\": [...],\n    \"count\": 10,\n    \"collection\": \"pagos_emprestito\",\n    \"timestamp\": \"2024-11-17T...\"\n}\n```",
        "operationId": "get_all_pagos_emprestito_pagos_emprestito_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/rpc_contratos_emprestito_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Obtener Todos los RPCs de Empr├⌐stito",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Consultas | Obtener Todos los RPCs de Empr├⌐stito\n\nEndpoint para obtener todos los Registros Presupuestales de Compromiso (RPC) \nde empr├⌐stito almacenados en la colecci├│n `rpc_contratos_emprestito`.\n\n### Γ£à Funcionalidades principales:\n- **Listado completo**: Retorna todos los RPCs registrados\n- **Datos completos**: Incluye todos los campos de cada RPC\n- **Metadatos**: Incluye ID del documento, conteo total y timestamp\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del RPC\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n\n### ≡ƒùä∩╕Å Campos principales esperados:\n- **numero_rpc**: N├║mero ├║nico del RPC\n- **beneficiario_id**: Identificaci├│n del beneficiario\n- **beneficiario_nombre**: Nombre del beneficiario\n- **descripcion_rpc**: Descripci├│n del compromiso\n- **fecha_contabilizacion**: Fecha de contabilizaci├│n\n- **fecha_impresion**: Fecha de impresi├│n\n- **estado_liberacion**: Estado de liberaci├│n\n- **bp**: C├│digo BP\n- **valor_rpc**: Valor monetario del RPC\n- **nombre_centro_gestor**: Centro gestor responsable\n- **referencia_contrato**: Referencia del contrato asociado\n- **cdp_asociados**: CDPs asociados\n- **programacion_pac**: Programaci├│n PAC\n\n### Γ£à Respuesta exitosa (200):\n```json\n{\n    \"success\": true,\n    \"data\": [...],\n    \"count\": 15,\n    \"collection\": \"rpc_contratos_emprestito\",\n    \"timestamp\": \"2024-11-17T...\"\n}\n```",
        "operationId": "get_all_rpc_contratos_emprestito_rpc_contratos_emprestito_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/emprestito/proceso/{referencia_proceso}": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Verificar Proceso Existente",
        "description": "## ∩┐╜ GET | ∩┐╜≡ƒöì Consultas | Verificar Proceso Existente\n\nVerifica si ya existe un proceso con la referencia especificada en cualquiera \nde las colecciones de empr├⌐stito.\n\n### Γ£à Funcionalidades:\n- B├║squeda en `procesos_emprestito` (SECOP)\n- B├║squeda en `ordenes_compra_emprestito` (TVEC)\n- Informaci├│n detallada del proceso encontrado\n\n### ≡ƒôè Respuesta si existe:\n- Datos completos del proceso\n- Colecci├│n donde se encontr├│\n- ID del documento\n\n### ≡ƒÆí Casos de uso:\n- Validaci├│n previa antes de crear proceso\n- B├║squeda de procesos existentes\n- Prevenci├│n de duplicados\n\n### ≡ƒô¥ Ejemplo de respuesta (proceso existente):\n```json\n{\n    \"existe\": true,\n    \"coleccion\": \"procesos_emprestito\",\n    \"documento\": { ... },\n    \"doc_id\": \"xyz123\",\n    \"timestamp\": \"2025-10-06T...\"\n}\n```",
        "operationId": "verificar_proceso_existente_endpoint_emprestito_proceso__referencia_proceso__get",
        "parameters": [
          {
            "name": "referencia_proceso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Proceso"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö┤ Eliminar Proceso",
        "description": "## ∩┐╜ DELETE | ∩┐╜≡ƒùæ∩╕Å Eliminaci├│n | Eliminar Proceso de Empr├⌐stito\n\nElimina un proceso de empr├⌐stito espec├¡fico basado en su referencia_proceso.\nBusca autom├íticamente en ambas colecciones (SECOP y TVEC) y elimina el proceso encontrado.\n\n### Γ£à Funcionalidades principales:\n- **B├║squeda autom├ítica**: Localiza el proceso en ambas colecciones\n- **Eliminaci├│n segura**: Elimina ├║nicamente el proceso especificado\n- **Informaci├│n completa**: Retorna detalles del proceso eliminado\n- **Validaci├│n previa**: Verifica existencia antes de intentar eliminar\n\n### ≡ƒöì Colecciones de b├║squeda:\n- **procesos_emprestito** (SECOP)\n- **ordenes_compra_emprestito** (TVEC)\n\n### ΓÜá∩╕Å Consideraciones importantes:\n- La eliminaci├│n es **irreversible**\n- Solo se elimina un proceso por referencia_proceso\n- Se requiere coincidencia exacta en referencia_proceso\n\n### ≡ƒôï Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Proceso eliminado exitosamente\",\n    \"referencia_proceso\": \"SCMGSU-CM-003-2024\",\n    \"coleccion\": \"procesos_emprestito\",\n    \"documento_id\": \"xyz123\",\n    \"proceso_eliminado\": {\n        \"referencia_proceso\": \"SCMGSU-CM-003-2024\",\n        \"nombre_centro_gestor\": \"Secretar├¡a de Salud\",\n        \"nombre_banco\": \"Banco Mundial\",\n        \"plataforma\": \"SECOP II\",\n        \"fecha_creacion\": \"2025-10-06T...\"\n    },\n    \"timestamp\": \"2025-10-06T...\"\n}\n```\n\n### ≡ƒôï Respuesta si no existe:\n```json\n{\n    \"success\": false,\n    \"error\": \"No se encontr├│ ning├║n proceso con referencia_proceso: REFERENCIA\",\n    \"referencia_proceso\": \"REFERENCIA\",\n    \"colecciones_buscadas\": [\"procesos_emprestito\", \"ordenes_compra_emprestito\"]\n}\n```",
        "operationId": "eliminar_proceso_emprestito_endpoint_emprestito_proceso__referencia_proceso__delete",
        "parameters": [
          {
            "name": "referencia_proceso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Proceso"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒí Actualizar Proceso",
        "description": "## ≡ƒƒí PUT | Γ£Å∩╕Å Actualizaci├│n | Actualizar Proceso de Empr├⌐stito\n\nActualiza campos espec├¡ficos de un proceso de empr├⌐stito existente sin crear registros nuevos.\nSolo se actualizan los campos proporcionados, manteniendo los dem├ís valores sin cambios.\n\n### Γ£à Funcionalidades principales:\n- **B├║squeda autom├ítica**: Localiza el proceso en ambas colecciones\n- **Actualizaci├│n selectiva**: Solo modifica los campos proporcionados\n- **Preservaci├│n de datos**: Mantiene los campos no especificados\n- **Historial de cambios**: Muestra valores anteriores y nuevos\n\n### ≡ƒöì Colecciones de b├║squeda:\n- **procesos_emprestito** (SECOP)\n- **ordenes_compra_emprestito** (TVEC)\n\n### ≡ƒô¥ Campos actualizables:\n- `bp`: C├│digo BP\n- `nombre_resumido_proceso`: Nombre resumido del proceso\n- `id_paa`: ID PAA\n- `valor_proyectado`: Valor proyectado (num├⌐rico)\n\n### ΓÜÖ∩╕Å Comportamiento:\n- **Campos vac├¡os**: Se ignoran (no se actualizan)\n- **Campos con valor**: Se actualizan en la base de datos\n- **Timestamp**: Se actualiza autom├íticamente `fecha_actualizacion`\n- **Validaci├│n previa**: Verifica que el proceso existe\n\n### ≡ƒôï Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Proceso actualizado exitosamente\",\n    \"referencia_proceso\": \"SCMGSU-CM-003-2024\",\n    \"coleccion\": \"procesos_emprestito\",\n    \"documento_id\": \"xyz123\",\n    \"campos_modificados\": [\"bp\", \"valor_proyectado\"],\n    \"valores_anteriores\": {\n        \"bp\": \"BP-OLD-001\",\n        \"valor_proyectado\": 1000000.0\n    },\n    \"valores_nuevos\": {\n        \"bp\": \"BP-NEW-001\",\n        \"valor_proyectado\": 1500000.0\n    },\n    \"proceso_actualizado\": { ... },\n    \"timestamp\": \"2025-10-06T...\"\n}\n```\n\n### ≡ƒôï Respuesta si no existe:\n```json\n{\n    \"success\": false,\n    \"error\": \"No se encontr├│ ning├║n proceso con referencia_proceso: REFERENCIA\",\n    \"referencia_proceso\": \"REFERENCIA\",\n    \"colecciones_buscadas\": [\"procesos_emprestito\", \"ordenes_compra_emprestito\"]\n}\n```\n\n### ≡ƒôï Respuesta sin campos:\n```json\n{\n    \"success\": false,\n    \"error\": \"No se proporcionaron campos para actualizar\",\n    \"campos_disponibles\": [\"bp\", \"nombre_resumido_proceso\", \"id_paa\", \"valor_proyectado\"]\n}\n```",
        "operationId": "actualizar_proceso_emprestito_endpoint_emprestito_proceso__referencia_proceso__put",
        "parameters": [
          {
            "name": "referencia_proceso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Proceso"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_actualizar_proceso_emprestito_endpoint_emprestito_proceso__referencia_proceso__put"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/obtener-contratos-secop": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Obtener Contratos SECOP",
        "description": "## ∩┐╜ POST | ≡ƒöä Procesamiento Masivo | Obtener Contratos de SECOP desde Todos los Procesos\n\nProcesa TODOS los registros de la colecci├│n 'procesos_emprestito', busca contratos en SECOP \npara cada proceso y guarda los resultados en la nueva colecci├│n 'contratos_emprestito'.\n\n### ≡ƒô¥ No requiere par├ímetros:\nEste endpoint procesa autom├íticamente todos los registros existentes en 'procesos_emprestito'.\n\n### ≡ƒôñ Env├¡o:\n```http\nPOST /emprestito/obtener-contratos-secop\n```\n**No es necesario enviar ning├║n cuerpo JSON**.\n\n### ≡ƒöä Proceso:\n1. Leer TODOS los registros de la colecci├│n 'procesos_emprestito'\n2. Para cada proceso, extraer referencia_proceso y proceso_contractual\n3. Conectar con la API de SECOP (www.datos.gov.co) para cada proceso\n4. Buscar contratos que contengan el proceso_contractual y NIT = 890399011\n5. Transformar los datos al esquema de la colecci├│n 'contratos_emprestito'\n6. Verificar duplicados y actualizar/crear registros en Firebase\n7. Retornar resumen completo del procesamiento masivo\n\n### Γ£à Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Se procesaron 5 procesos de empr├⌐stito. Contratos: 12 total (8 nuevos, 3 actualizados, 1 ignorados)\",\n    \"resumen_procesamiento\": {\n        \"total_procesos\": 5,\n        \"procesos_procesados\": 4,\n        \"procesos_sin_contratos\": 1,\n        \"procesos_con_errores\": 0\n    },\n    \"criterios_busqueda\": {\n        \"coleccion_origen\": \"procesos_emprestito\",\n        \"filtro_secop\": \"nit_entidad = '890399011'\"\n    },\n    \"resultados_secop\": {\n        \"total_contratos_encontrados\": 12,\n        \"total_contratos_procesados\": 12\n    },\n    \"firebase_operacion\": {\n        \"documentos_nuevos\": 8,\n        \"documentos_actualizados\": 3,\n        \"duplicados_ignorados\": 1\n    },\n    \"contratos_guardados\": [\n        {\n            \"referencia_proceso\": \"4151.010.32.1.0575-2025\",\n            \"proceso_contractual\": \"CO1.REQ.8485621\",\n            \"sector\": \"Educaci├│n\",\n            \"referencia_contrato\": \"CONT-001-2025\",\n            \"descripcion_proceso\": \"Descripci├│n detallada del proceso contractual\",\n            \"estado_contrato\": \"Activo\",\n            \"valor_contrato\": 150000000,\n            \"valor_pagado\": \"75000000\",\n            \"representante_legal\": \"Juan P├⌐rez Garc├¡a\",\n            \"ordenador_gasto\": \"Mar├¡a L├│pez Silva\",\n            \"supervisor\": \"Carlos Rodr├¡guez Mesa\",\n            \"fecha_firma_contrato\": \"2025-01-15\",\n            \"entidad_contratante\": \"MUNICIPIO DE SANTIAGO DE CALI\",\n            \"nombre_contratista\": \"EMPRESA XYZ LTDA\",\n            \"nit_entidad\": \"890399011\",\n            \"fuente_datos\": \"SECOP_API\",\n            \"fecha_guardado\": \"2025-10-09T...\"\n        }\n    ],\n    \"procesos_sin_contratos\": [],\n    \"procesos_con_errores\": [],\n    \"timestamp\": \"2025-10-09T...\"\n}\n```\n\n### ≡ƒôï Respuesta sin procesos:\n```json\n{\n    \"success\": false,\n    \"error\": \"No se encontraron procesos en la colecci├│n procesos_emprestito\",\n    \"timestamp\": \"2025-10-09T...\"\n}\n```\n\n### ≡ƒùä∩╕Å Esquema de la colecci├│n 'contratos_emprestito':\n**≡ƒöä Campos heredados desde procesos_emprestito:**\n- **referencia_proceso**: Heredado desde procesos_emprestito\n- **banco**: Heredado desde 'nombre_banco' de procesos_emprestito\n- **bp**: Heredado desde procesos_emprestito\n- **nombre_centro_gestor**: Heredado desde procesos_emprestito\n\n**≡ƒôè Campos desde SECOP API:**\n- **referencia_contrato**: referencia_del_contrato desde SECOP\n- **id_contrato**: Desde SECOP\n- **proceso_contractual**: Mapeado desde 'proceso_de_compra' de SECOP (sobrescribe el heredado)\n- **sector**: Desde SECOP\n- **nombre_procedimiento**: Mapeado desde 'nombre_del_procedimiento' de SECOP\n- **descripcion_proceso**: Mapeado desde 'descripcion_del_proceso' de SECOP\n- **estado_contrato**: Mapeado desde 'estado_contrato' de SECOP\n- **valor_contrato**: Desde SECOP (campo ├║nico, sin duplicados)\n- **valor_pagado**: Desde SECOP\n- **representante_legal**: Mapeado desde 'nombre_representante_legal' de SECOP\n- **ordenador_gasto**: Mapeado desde 'nombre_ordenador_del_gasto' de SECOP\n- **supervisor**: Mapeado desde 'nombre_supervisor' de SECOP\n- **bpin**: Mapeado desde 'c_digo_bpin' de SECOP\n- **fecha_firma_contrato**: Desde SECOP\n- **objeto_contrato**: Desde SECOP\n- **modalidad_contratacion**: Desde SECOP\n- **entidad_contratante**: Desde SECOP\n- **nombre_contratista**: Mapeado desde 'nombre_del_contratista' de SECOP\n- **nit_entidad**: Desde SECOP (filtrado por 890399011)\n- **nit_contratista**: Desde SECOP\n\n**≡ƒöº Metadatos:**\n- **fecha_guardado**: Timestamp de cuando se guard├│ en Firebase\n- **fuente_datos**: \"SECOP_API\"\n- **version_esquema**: \"1.1\"\n\n### ≡ƒöù Integraci├│n SECOP:\n- **API**: www.datos.gov.co\n- **Dataset**: jbjy-vk9h (Contratos)\n- **Filtros**: proceso_de_compra LIKE '%{proceso_contractual}%' AND nit_entidad = '890399011'\n- **Mapeo**: proceso_de_compra ΓåÆ proceso_contractual (sobrescribe valor heredado)\n- **Nuevos campos**: sector desde SECOP\n- **L├¡mite**: 2000 registros por consulta",
        "operationId": "obtener_contratos_secop_endpoint_emprestito_obtener_contratos_secop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/contratos_emprestito_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Todos los Contratos Empr├⌐stito",
        "description": "## ≡ƒö╡ GET | ≡ƒôï Listados | Obtener Todos los Contratos de Empr├⌐stito\n\n**Prop├│sito**: Retorna todos los registros de las colecciones \"contratos_emprestito\", \"ordenes_compra_emprestito\" y \"convenios_transferencias_emprestito\".\n\n### Γ£à Casos de uso:\n- Obtener listado completo de contratos de empr├⌐stito\n- Exportaci├│n de datos para an├ílisis\n- Integraci├│n con sistemas externos\n- Reportes y dashboards de contratos\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos disponibles en las tres colecciones\n- ID del documento para referencia\n- Conteo total de registros y por tipo\n- Timestamp de la consulta\n\n### ≡ƒùä∩╕Å Colecciones incluidas:\n1. **contratos_emprestito**: Contratos principales\n2. **ordenes_compra_emprestito**: ├ôrdenes de compra\n3. **convenios_transferencias_emprestito**: Convenios de transferencia\n\n### ≡ƒùä∩╕Å Campos principales:\n- **referencia_contrato**: Referencia del contrato\n- **referencia_proceso**: Proceso de origen\n- **nombre_centro_gestor**: Entidad responsable\n- **banco**: Entidad bancaria\n- **estado_contrato**: Estado actual del contrato\n- **valor_contrato**: Valor del contrato\n- **fecha_firma_contrato**: Fecha de firma\n- **objeto_contrato**: Descripci├│n del objeto\n- **modalidad_contratacion**: Modalidad de contrataci├│n\n- **entidad_contratante**: Entidad que contrata\n- **contratista**: Empresa contratista\n- **nombre_resumido_proceso**: ≡ƒöä Heredado desde procesos_emprestito\n- **tipo_registro**: Identificador del tipo de registro (convenio_transferencia, contrato, orden)\n\n### ≡ƒöä Campos heredados desde procesos_emprestito:\n- **nombre_resumido_proceso**: Nombre resumido del proceso obtenido autom├íticamente usando referencia_proceso\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/contratos_emprestito_all');\nconst data = await response.json();\nif (data.success) {\n    console.log('Total de registros:', data.count);\n    console.log('Contratos:', data.contratos_count);\n    console.log('├ôrdenes:', data.ordenes_count);\n    console.log('Convenios:', data.convenios_count);\n    console.log('Datos:', data.data);\n}\n```",
        "operationId": "obtener_todos_contratos_emprestito_contratos_emprestito_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/contratos_emprestito/referencia/{referencia_contrato}": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Contratos por Referencia",
        "description": "## ∩┐╜ GET | ∩┐╜≡ƒöì Consultas | Obtener Contratos por Referencia\n\n**Prop├│sito**: Retorna contratos de empr├⌐stito filtrados por referencia_contrato espec├¡fica.\n\n### Γ£à Casos de uso:\n- B├║squeda de contratos por referencia espec├¡fica\n- Consulta de detalles de contrato individual\n- Validaci├│n de existencia de contrato\n- Integraci├│n con sistemas de seguimiento contractual\n\n### ≡ƒöì Filtrado:\n- **Campo**: `referencia_contrato` (coincidencia exacta)\n- **Tipo**: String - Referencia ├║nica del contrato\n- **Sensible a may├║sculas**: S├¡\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos del contrato que coincida con la referencia\n- ID del documento para referencia\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst referencia = \"CONT-001-2025\";\nconst response = await fetch(`/contratos_emprestito/${referencia}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log('Contrato encontrado:', data.data[0]);\n} else {\n    console.log('No se encontr├│ contrato con referencia:', referencia);\n}\n```\n\n### ≡ƒÆí Notas:\n- Si no se encuentra ning├║n contrato, retorna array vac├¡o\n- La referencia debe ser exacta (sin espacios adicionales)\n- Puede retornar m├║ltiples contratos si hay duplicados",
        "operationId": "obtener_contratos_por_referencia_contratos_emprestito_referencia__referencia_contrato__get",
        "parameters": [
          {
            "name": "referencia_contrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Contrato"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/contratos_emprestito/centro-gestor/{nombre_centro_gestor}": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Obtener Contratos Por Centro Gestor",
        "description": "## ≡ƒÅó Obtener Contratos de Empr├⌐stito por Centro Gestor\n\n**Prop├│sito**: Retorna contratos de empr├⌐stito filtrados por nombre del centro gestor espec├¡fico.\n\n### Γ£à Casos de uso:\n- Consulta de contratos por dependencia responsable\n- Reportes por entidad gestora\n- Dashboard por centro de responsabilidad\n- An├ílisis de distribuci├│n institucional\n- Seguimiento de contratos por secretar├¡a/departamento\n\n### ≡ƒöì Filtrado:\n- **Campo**: `nombre_centro_gestor` (coincidencia exacta)\n- **Tipo**: String - Nombre completo del centro gestor\n- **Sensible a may├║sculas**: S├¡\n- **Espacios**: Sensible a espacios adicionales\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos de los contratos del centro gestor\n- ID del documento para referencia\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst centroGestor = \"Secretar├¡a de Salud\";\nconst response = await fetch(`/contratos_emprestito/${encodeURIComponent(centroGestor)}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log(`${data.count} contratos encontrados para:`, centroGestor);\n    const valorTotal = data.data.reduce((sum, c) => sum + (parseFloat(c.valor_contrato) || 0), 0);\n    console.log('Valor total:', valorTotal);\n}\n```\n\n### ≡ƒÆí Notas:\n- T├¡picamente retorna m├║ltiples contratos por centro gestor\n- El nombre debe ser exacto (use `/centros-gestores/nombres-unicos` para obtener nombres v├ílidos)\n- Para nombres con espacios, usar `encodeURIComponent()` en el frontend\n- Si no se encuentra ning├║n contrato, retorna array vac├¡o\n\n### ≡ƒöù Endpoint relacionado:\n- `GET /centros-gestores/nombres-unicos` - Para obtener lista de centros gestores v├ílidos",
        "operationId": "obtener_contratos_por_centro_gestor_contratos_emprestito_centro_gestor__nombre_centro_gestor__get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Nombre Centro Gestor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/ordenes-compra": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Get Ordenes Compra Todas",
        "description": "## ≡ƒôï Consultar Todas las ├ôrdenes de Compra Existentes\n\n**Prop├│sito**: Obtiene todas las ├│rdenes de compra almacenadas en la colecci├│n \n`ordenes_compra_emprestito` para revisar los datos disponibles.\n\n### Γ£à Informaci├│n que proporciona:\n- **Listado completo**: Todas las ├│rdenes de compra existentes\n- **Campos disponibles**: Estructura de datos actual\n- **N├║meros de orden**: Para debugging del matching con TVEC",
        "operationId": "get_ordenes_compra_todas_emprestito_ordenes_compra_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/emprestito/obtener-ordenes-compra-TVEC": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Obtener Ordenes Compra Tvec Endpoint",
        "description": "## ≡ƒ¢Æ Obtener y Enriquecer ├ôrdenes de Compra con Datos de TVEC\n\n**Prop├│sito**: Enriquece todas las ├│rdenes de compra existentes en la colecci├│n \n`ordenes_compra_emprestito` con datos adicionales de la API de TVEC.\n\n### Γ£à Funcionalidades principales:\n- **Enriquecimiento de datos**: Obtiene datos adicionales de TVEC usando `numero_orden`\n- **Conservaci├│n de campos**: Mantiene todos los campos existentes en la colecci├│n\n- **Datos adicionales**: Agrega campos con prefijo `tvec_` para datos de la tienda virtual\n- **API Integration**: Usa la API oficial de datos abiertos de Colombia (rgxm-mmea)\n\n### ≡ƒô¥ No requiere par├ímetros:\nEste endpoint procesa autom├íticamente todas las ├│rdenes existentes en `ordenes_compra_emprestito`.\n\n### ≡ƒôñ Env├¡o:\n```http\nPOST /emprestito/obtener-ordenes-compra-TVEC\n```\n**No es necesario enviar ning├║n cuerpo JSON**.\n\n### ≡ƒöä Proceso:\n1. Obtener todas las ├│rdenes de la colecci├│n `ordenes_compra_emprestito`\n2. Conectar con la API de TVEC (www.datos.gov.co/rgxm-mmea)\n3. Para cada orden, buscar datos adicionales usando `numero_orden`\n4. Enriquecer ├│rdenes con campos adicionales con prefijo `tvec_`\n5. Actualizar registros en Firebase conservando campos originales\n6. Retornar resumen completo del enriquecimiento\n\n### ≡ƒôè Campos adicionales agregados (estructura similar a contratos):\n\n**Campos principales (estructura est├índar):**\n- `referencia_orden`: Referencia de la orden (similar a referencia_contrato)\n- `id_orden`: Identificador ├║nico de la orden (similar a id_contrato)\n- `estado_orden`: Estado de la orden (similar a estado_contrato)\n- `modalidad_contratacion`: Modalidad de la compra (mapeado desde tipo_compra)\n- `tipo_orden`: Tipo de compra (similar a tipo_contrato)\n- `fecha_publicacion_orden`: Fecha de publicaci├│n (similar a fecha_firma_contrato)\n- `fecha_vencimiento_orden`: Fecha de vencimiento (similar a fecha_fin_contrato)\n- `entidad_compradora`: Entidad que compra (similar a entidad_contratante)\n- `nombre_proveedor`: Nombre del proveedor (similar a nombre_contratista)\n- `nit_proveedor`: NIT del proveedor (similar a nit_contratista)\n- `descripcion_orden`: Descripci├│n detallada (similar a descripcion_proceso)\n- `objeto_orden`: Objeto de la orden (similar a objeto_contrato)\n- `sector`: Sector/categor├¡a principal\n- `valor_orden`: Valor total como n├║mero (similar a valor_contrato)\n- `_dataset_source`: \"rgxm-mmea\" (similar a \"jbjy-vk9h\" para contratos)\n- `fuente_datos`: \"TVEC_API\" (similar a \"SECOP_API\")\n- `fecha_guardado`: Timestamp de procesamiento\n- `version_esquema`: \"1.0\" (versi├│n del esquema TVEC)\n\n**Campos espec├¡ficos TVEC (con prefijo):**\n- `tvec_agregacion`: Tipo de agregaci├│n\n- `tvec_codigo_categoria`: C├│digo de categor├¡a\n- `tvec_unidad_medida`: Unidad de medida\n- `tvec_cantidad`: Cantidad\n- `tvec_precio_unitario`: Precio unitario\n\n### ≡ƒöÉ Snippet utilizado:\nEl endpoint usa exactamente el snippet proporcionado:\n```python\nimport pandas as pd\nfrom sodapy import Socrata\n\nclient = Socrata(\"www.datos.gov.co\", None)\nresults = client.get(\"rgxm-mmea\", limit=2000)\nresults_df = pd.DataFrame.from_records(results)\n```\n\n### Γ£à Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Enriquecimiento completado: 15/20 ├│rdenes enriquecidas\",\n    \"resumen\": {\n        \"total_ordenes_procesadas\": 20,\n        \"ordenes_enriquecidas\": 15,\n        \"ordenes_sin_datos_tvec\": 3,\n        \"ordenes_con_errores\": 2,\n        \"tasa_enriquecimiento\": \"75.0%\"\n    },\n    \"fuente_datos\": {\n        \"api_tvec\": \"www.datos.gov.co\",\n        \"dataset\": \"rgxm-mmea\",\n        \"registros_tvec_disponibles\": 1850\n    },\n    \"operacion_firebase\": {\n        \"coleccion\": \"ordenes_compra_emprestito\",\n        \"documentos_actualizados\": 15,\n        \"campos_preservados\": true,\n        \"campos_agregados_prefijo\": \"tvec_\"\n    },\n    \"ordenes_actualizadas\": [\n        {\n            \"doc_id\": \"abc123\",\n            \"numero_orden\": \"OC-2024-001\",\n            \"campos_agregados\": [\n                \"referencia_orden\", \"estado_orden\", \"valor_orden\", \n                \"entidad_compradora\", \"nombre_proveedor\", \"nit_proveedor\",\n                \"descripcion_orden\", \"objeto_orden\", \"sector\", \"_dataset_source\",\n                \"fuente_datos\", \"fecha_guardado\", \"version_esquema\"\n            ],\n            \"datos_enriquecidos\": {\n                \"numero_orden\": \"OC-2024-001\",\n                \"referencia_orden\": \"OC-2024-001\",\n                \"estado_orden\": \"Activa\",\n                \"valor_orden\": 1500000,\n                \"entidad_compradora\": \"ALCALDIA DE SANTIAGO DE CALI\",\n                \"nombre_proveedor\": \"PROVEEDOR EJEMPLO S.A.S\",\n                \"nit_proveedor\": \"900123456-1\",\n                \"descripcion_orden\": \"Suministro de equipos tecnol├│gicos\",\n                \"sector\": \"Tecnolog├¡a\",\n                \"_dataset_source\": \"rgxm-mmea\",\n                \"fuente_datos\": \"TVEC_API\",\n                \"version_esquema\": \"1.0\"\n            }\n        }\n    ],\n    \"tiempo_total_segundos\": 45.2,\n    \"timestamp\": \"2025-10-16T...\"\n}\n```\n\n### ≡ƒÜ¿ Requisitos:\n- Tener ├│rdenes de compra registradas en `ordenes_compra_emprestito`\n- Cada orden debe tener el campo `numero_orden` \n- Conexi├│n a internet para acceder a la API de TVEC\n- Librer├¡as: `sodapy` y `pandas` instaladas\n\n### ≡ƒÆí Caracter├¡sticas especiales:\n- **Preserva datos originales**: No modifica campos existentes\n- **Prefijo tvec_**: Evita conflictos con campos originales\n- **Matching por numero_orden**: Usa identificador ├║nico para relacionar datos\n- **Tolerante a errores**: Contin├║a procesando aunque algunas ├│rdenes fallen\n- **Sin duplicados**: Solo agrega campos si no existen ya\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-orden-compra` - Para crear nuevas ├│rdenes\n- `GET /ordenes_compra_emprestito_all` - Para consultar ├│rdenes enriquecidas (si existe)",
        "operationId": "obtener_ordenes_compra_tvec_endpoint_emprestito_obtener_ordenes_compra_TVEC_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/bancos_emprestito_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Get All Bancos Emprestito",
        "description": "## Obtener Todos los Bancos de Empr├⌐stito\n\n**Prop├│sito**: Retorna todos los bancos disponibles en la colecci├│n \"bancos_emprestito\".\n\n### Γ£à Casos de uso:\n- Poblar dropdowns y selectores en formularios de empr├⌐stito\n- Obtener listado completo de bancos para validaci├│n\n- Integraci├│n con sistemas de gesti├│n de procesos\n- Reportes y dashboards de bancos disponibles\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos disponibles de cada banco\n- ID del documento para referencia\n- Conteo total de bancos disponibles\n- Lista ordenada por nombre de banco\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/bancos_emprestito_all');\nconst data = await response.json();\nif (data.success) {\n    console.log('Bancos disponibles:', data.count);\n    const bancoOptions = data.data.map(banco => ({\n        value: banco.nombre_banco,\n        label: banco.nombre_banco\n    }));\n}\n```\n\n### ≡ƒÆí Caracter├¡sticas:\n- **Ordenamiento**: Lista alfab├⌐tica por nombre de banco\n- **Validaci├│n**: Datos limpios y serializados correctamente\n- **Compatibilidad**: UTF-8 completo para nombres con caracteres especiales\n- **Performance**: Optimizado para carga r├ípida de opciones\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-proceso` - Para crear nuevos procesos de empr├⌐stito usando estos bancos\n- `GET /contratos_emprestito_all` - Para consultar contratos por banco",
        "operationId": "get_all_bancos_emprestito_bancos_emprestito_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/procesos_emprestito_all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Get All Procesos Emprestito",
        "description": "## Obtener Todos los Procesos de Empr├⌐stito\n\n**Prop├│sito**: Retorna todo el contenido de la colecci├│n \"procesos_emprestito\" en Firebase.\n\n### Γ£à Casos de uso:\n- Obtener listado completo de procesos de empr├⌐stito\n- Exportaci├│n de datos para an├ílisis\n- Integraci├│n con sistemas externos\n- Reportes y dashboards de procesos\n- Monitoreo del estado de procesos\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos disponibles en la colecci├│n\n- ID del documento para referencia\n- Conteo total de registros\n- Timestamp de la consulta\n- Datos serializados correctamente para JSON\n\n### ≡ƒùä∩╕Å Campos principales esperados:\n- **referencia_proceso**: Referencia ├║nica del proceso\n- **nombre_centro_gestor**: Entidad responsable\n- **nombre_banco**: Entidad bancaria\n- **plataforma**: SECOP, SECOP II, TVEC, etc.\n- **bp**: C├│digo de proyecto base\n- **proceso_contractual**: C├│digo del proceso contractual\n- **nombre_proceso**: Nombre del procedimiento\n- **estado_proceso**: Estado actual del proceso\n- **valor_publicacion**: Valor del proceso\n- **fecha_publicacion**: Fecha de publicaci├│n\n- **nombre_resumido_proceso**: Nombre resumido (opcional)\n- **id_paa**: ID del PAA (opcional)\n- **valor_proyectado**: Valor proyectado (opcional)\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst response = await fetch('/procesos_emprestito_all');\nconst data = await response.json();\nif (data.success) {\n    console.log('Procesos encontrados:', data.count);\n    console.log('Datos:', data.data);\n    \n    // Filtrar por estado\n    const activos = data.data.filter(p => p.estado_proceso === 'Activo');\n    \n    // Sumar valores\n    const valorTotal = data.data.reduce((sum, p) => sum + (p.valor_publicacion || 0), 0);\n}\n```\n\n### ≡ƒÆí Caracter├¡sticas:\n- **Serializaci├│n**: Datos de Firebase convertidos correctamente a JSON\n- **UTF-8**: Soporte completo para caracteres especiales\n- **Fechas**: Timestamps convertidos a formato ISO\n- **Performance**: Consulta optimizada de toda la colecci├│n\n- **Consistencia**: Estructura de datos uniforme\n\n### ≡ƒöù Endpoints relacionados:\n- `POST /emprestito/cargar-proceso` - Para crear nuevos procesos\n- `GET /contratos_emprestito_all` - Para consultar contratos relacionados\n- `GET /bancos_emprestito_all` - Para obtener bancos disponibles",
        "operationId": "get_all_procesos_emprestito_procesos_emprestito_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/ordenes_compra_emprestito/numero/{numero_orden}": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Obtener Ordenes Por Numero",
        "description": "## ≡ƒöì Obtener ├ôrdenes de Compra por N├║mero de Orden\n\n**Prop├│sito**: Retorna ├│rdenes de compra filtradas por n├║mero de orden espec├¡fico.\n\n### Γ£à Casos de uso:\n- B├║squeda de ├│rdenes por n├║mero espec├¡fico\n- Consulta de detalles de orden individual\n- Validaci├│n de existencia de orden\n- Verificar datos enriquecidos de una orden espec├¡fica\n\n### ≡ƒöì Filtrado:\n- **Campo**: `numero_orden` (coincidencia exacta)\n- **Tipo**: String - N├║mero ├║nico de la orden\n- **Sensible a may├║sculas**: S├¡\n\n### ≡ƒôè Informaci├│n incluida:\n- Todos los campos de las ├│rdenes que coincidan con el n├║mero\n- Datos enriquecidos de TVEC (si est├ín disponibles)\n- ID del documento para referencia\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst numeroOrden = \"OC-2024-001\";\nconst response = await fetch(`/ordenes_compra_emprestito/numero/${numeroOrden}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    const orden = data.data[0];\n    console.log('Orden encontrada:', orden.numero_orden);\n    if (orden._dataset_source === 'rgxm-mmea') {\n        console.log('Orden enriquecida con TVEC:', orden.valor_orden);\n    }\n}\n```",
        "operationId": "obtener_ordenes_por_numero_ordenes_compra_emprestito_numero__numero_orden__get",
        "parameters": [
          {
            "name": "numero_orden",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Numero Orden"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ordenes_compra_emprestito/centro-gestor/{nombre_centro_gestor}": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Obtener Ordenes Por Centro Gestor",
        "description": "## ≡ƒÅó Obtener ├ôrdenes de Compra por Centro Gestor\n\n**Prop├│sito**: Retorna ├│rdenes de compra filtradas por nombre del centro gestor espec├¡fico.\n\n### Γ£à Casos de uso:\n- Consulta de ├│rdenes por dependencia responsable\n- Reportes por entidad gestora\n- Dashboard por centro de responsabilidad\n- An├ílisis de distribuci├│n institucional de ├│rdenes de compra\n\n### ≡ƒöì Filtrado:\n- **Campo**: `nombre_centro_gestor` (coincidencia exacta)\n- **Tipo**: String - Nombre completo del centro gestor\n- **Sensible a may├║sculas**: S├¡\n\n### ≡ƒôè Informaci├│n incluida:\n- Todas las ├│rdenes del centro gestor especificado\n- Datos enriquecidos de TVEC (si est├ín disponibles)\n- Conteo de registros encontrados\n- Informaci├│n del filtro aplicado\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst centroGestor = \"Secretar├¡a de Salud\";\nconst response = await fetch(`/ordenes_compra_emprestito/centro-gestor/${encodeURIComponent(centroGestor)}`);\nconst data = await response.json();\nif (data.success && data.count > 0) {\n    console.log(`${data.count} ├│rdenes encontradas para:`, centroGestor);\n    const valorTotal = data.data.reduce((sum, o) => sum + (o.valor_orden || 0), 0);\n    console.log('Valor total de ├│rdenes:', valorTotal);\n}\n```",
        "operationId": "obtener_ordenes_por_centro_gestor_ordenes_compra_emprestito_centro_gestor__nombre_centro_gestor__get",
        "parameters": [
          {
            "name": "nombre_centro_gestor",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Nombre Centro Gestor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/obtener-procesos-secop": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Obtener Procesos Secop Completo Endpoint",
        "description": "## ≡ƒöä Obtener y Actualizar Datos Completos de SECOP para Todos los Procesos\n\nEndpoint para complementar los datos de TODA la colecci├│n \"procesos_emprestito\" con informaci├│n \nadicional desde la API de SECOP, sin alterar los campos existentes ni los nombres de variables.\n\n### Γ£à Funcionalidades principales:\n- **Procesamiento masivo**: Actualiza TODOS los procesos de la colecci├│n autom├íticamente\n- **Actualizaci├│n selectiva**: Solo actualiza campos que han cambiado por proceso\n- **Preservaci├│n de datos**: Mantiene todos los campos existentes intactos\n- **Mapeo desde SECOP**: Obtiene datos adicionales usando la API oficial\n- **Sin par├ímetros**: Lee autom├íticamente todas las referencias_proceso de Firebase\n\n### ≡ƒôè Campos que se actualizan/complementan:\n**Campos b├ísicos:**\n- `adjudicado` ΓåÉ adjudicado (SECOP)\n- `fase` ΓåÉ fase (SECOP)\n- `estado_proceso` ΓåÉ estado_del_procedimiento (SECOP)\n\n**Campos adicionales agregados:**\n- `fecha_publicacion_fase` ΓåÉ fecha_de_publicacion_del (SECOP)\n- `fecha_publicacion_fase_1` ΓåÉ null (no disponible en SECOP)\n- `fecha_publicacion_fase_2` ΓåÉ null (no disponible en SECOP)\n- `fecha_publicacion_fase_3` ΓåÉ fecha_de_publicacion_fase_3 (SECOP)\n- `proveedores_invitados` ΓåÉ proveedores_invitados (SECOP)\n- `proveedores_con_invitacion` ΓåÉ proveedores_con_invitacion (SECOP)\n- `visualizaciones_proceso` ΓåÉ visualizaciones_del (SECOP)\n- `proveedores_que_manifestaron` ΓåÉ proveedores_que_manifestaron (SECOP)\n- `numero_lotes` ΓåÉ numero_de_lotes (SECOP)\n- `fecha_adjudicacion` ΓåÉ null (no disponible en SECOP)\n- `estado_resumen` ΓåÉ estado_resumen (SECOP)\n- `fecha_recepcion_respuestas` ΓåÉ null (no disponible en SECOP)\n- `fecha_apertura_respuestas` ΓåÉ null (no disponible en SECOP)\n- `fecha_apertura_efectiva` ΓåÉ null (no disponible en SECOP)\n- `respuestas_procedimiento` ΓåÉ respuestas_al_procedimiento (SECOP)\n- `respuestas_externas` ΓåÉ respuestas_externas (SECOP)\n- `conteo_respuestas_ofertas` ΓåÉ conteo_de_respuestas_a_ofertas (SECOP)\n\n### ≡ƒöÉ Validaciones:\n- Verificar que el proceso existe en la colecci├│n `procesos_emprestito`\n- Conectar con API de SECOP usando la referencia_proceso\n- Solo actualizar si hay cambios reales en los datos\n- Mantener estructura de variables sin cambios\n\n### ≡ƒô¥ Ejemplo de request:\n```http\nPOST /emprestito/obtener-procesos-secop\n```\n**No requiere par├ímetros - procesamiento autom├ítico**\n\n### Γ£à Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Se procesaron 5 procesos de empr├⌐stito exitosamente\",\n    \"resumen_procesamiento\": {\n        \"total_procesos_encontrados\": 5,\n        \"procesos_procesados\": 4,\n        \"procesos_actualizados\": 3,\n        \"procesos_sin_cambios\": 1,\n        \"procesos_con_errores\": 1\n    },\n    \"resultados_detallados\": [\n        {\n            \"referencia_proceso\": \"4163.001.32.1.718-2024\",\n            \"success\": true,\n            \"changes_count\": 8,\n            \"changes_summary\": [\n                \"adjudicado: 'No' ΓåÆ 'S├¡'\",\n                \"estado_proceso: 'En evaluaci├│n' ΓåÆ 'Seleccionado'\"\n            ]\n        },\n        {\n            \"referencia_proceso\": \"4164.001.32.1.719-2024\",\n            \"success\": true,\n            \"changes_count\": 0,\n            \"message\": \"Ya est├í actualizado\"\n        }\n    ],\n    \"estadisticas\": {\n        \"total_campos_actualizados\": 25,\n        \"tiempo_procesamiento\": \"45.2 segundos\"\n    },\n    \"timestamp\": \"2024-10-18T...\"\n}\n```\n\n### ≡ƒôï Respuesta sin procesos:\n```json\n{\n    \"success\": false,\n    \"error\": \"No se encontraron procesos en la colecci├│n procesos_emprestito\",\n    \"total_procesos_encontrados\": 0\n}\n```\n\n### ≡ƒöì API de SECOP utilizada:\n- **Dominio**: www.datos.gov.co\n- **Dataset**: p6dx-8zbt (Procesos de contrataci├│n)\n- **Filtro**: nit_entidad='890399011' AND referencia_del_proceso='{referencia_proceso}'\n\n### ΓÅ▒∩╕Å Tiempo de procesamiento:\n- **Timeout extendido**: 5 minutos (300 segundos)\n- **Tiempo estimado**: ~10-15 segundos por proceso\n- **Progreso**: Se reporta en logs con ETA para procesos restantes\n- **Recomendaci├│n**: Monitor logs del servidor para ver progreso en tiempo real",
        "operationId": "obtener_procesos_secop_completo_endpoint_emprestito_obtener_procesos_secop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/emprestito/flujo-caja/cargar-excel": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Cargar Flujos de Caja Excel",
        "description": "## ∩┐╜ POST | ∩┐╜≡ƒôè Carga de Archivos | Cargar Flujos de Caja desde Excel\n\nEndpoint para procesar archivos Excel con informaci├│n de flujos de caja de proyectos\ny cargarlos en la colecci├│n \"flujo_caja_emprestito\".\n\n### ≡ƒôü Archivo Excel esperado:\n- **Hoja**: \"CONTRATOS - Seguimiento\" \n- **Columnas requeridas**: Responsable, Organismo, Banco, BP Proyecto, Descripcion BP\n- **Columnas de datos**: Todas las columnas que contengan \"Desembolso\" en su nombre\n- **Formato de fechas**: Las columnas de desembolso deben contener fechas como jul-25, ago-25, etc.\n\n### ≡ƒöº Modos de actualizaci├│n:\n- **merge**: Actualiza existentes y crea nuevos (por defecto)\n- **replace**: Reemplaza toda la colecci├│n\n- **append**: Solo agrega nuevos registros\n\n### ≡ƒôè Procesamiento:\n1. Lee datos del Excel\n2. Separa columnas de Desembolso normal y REAL\n3. Convierte a formato largo (un registro por mes)\n4. Crea campo Periodo en formato fecha\n5. Guarda en Firebase con ID ├║nico por organismo_banco_mes\n\n### ≡ƒÄ» C├│mo usar:\n1. Selecciona archivo .xlsx con formato correcto\n2. Elige modo de actualizaci├│n\n3. Haz clic en \"Execute\"\n\n### Γ£à Validaciones:\n- Solo archivos .xlsx\n- Columnas Organismo y Banco requeridas\n- Al menos una columna de Desembolso\n- Tama├▒o m├íximo: 10MB",
        "operationId": "cargar_flujo_caja_excel_emprestito_flujo_caja_cargar_excel_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_cargar_flujo_caja_excel_emprestito_flujo_caja_cargar_excel_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/flujo-caja/all": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Flujos de Caja",
        "description": "## ∩┐╜ GET | ∩┐╜≡ƒôè Consultas con Filtros | Obtener Todos los Flujos de Caja\n\nEndpoint para consultar flujos de caja almacenados en la colecci├│n \"flujo_caja_emprestito\".\n\n### Γ£à Casos de uso:\n- Consultar flujos de caja por organismo o banco\n- Filtrar por per├¡odos espec├¡ficos\n- Analizar desembolsos planeados vs reales\n- Generar reportes de flujo de caja\n- Exportar datos para dashboards\n\n### ≡ƒöì Filtros disponibles:\n- **responsable**: Filtrar por responsable espec├¡fico\n- **organismo**: Filtrar por organismo espec├¡fico\n- **banco**: Filtrar por banco espec├¡fico\n- **bp_proyecto**: Filtrar por BP Proyecto espec├¡fico  \n- **mes**: Filtrar por mes espec├¡fico (ej: \"jul-25\")\n- **periodo_desde**: Desde fecha espec├¡fica (YYYY-MM-DD)\n- **periodo_hasta**: Hasta fecha espec├¡fica (YYYY-MM-DD)\n- **limit**: Limitar n├║mero de resultados (m├íx: 1000)\n\n### ≡ƒôè Informaci├│n incluida:\n- Responsable, organismo, banco y BP proyecto\n- Descripci├│n del BP proyecto\n- Mes y per├¡odo en formato fecha\n- Monto de desembolso\n- Columna origen del Excel\n- ID ├║nico del registro y metadatos de archivo origen\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\n// Obtener todos los flujos\nconst response = await fetch('/emprestito/flujo-caja/all');\n\n// Filtrar por banco espec├¡fico\nconst response = await fetch('/emprestito/flujo-caja/all?banco=Banco Popular');\n\n// Filtrar por per├¡odo\nconst response = await fetch('/emprestito/flujo-caja/all?periodo_desde=2025-07-01&periodo_hasta=2025-12-31');\n```\n\n### ≡ƒÆí Caracter├¡sticas:\n- **Ordenamiento**: Por per├¡odo (cronol├│gico)\n- **Resumen**: Estad├¡sticas agregadas incluidas\n- **Metadatos**: Organismos, bancos y meses ├║nicos\n- **UTF-8**: Soporte completo para caracteres especiales",
        "operationId": "get_flujos_caja_all_emprestito_flujo_caja_all_get",
        "parameters": [
          {
            "name": "responsable",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filtrar por responsable espec├¡fico",
              "title": "Responsable"
            },
            "description": "Filtrar por responsable espec├¡fico"
          },
          {
            "name": "organismo",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filtrar por organismo espec├¡fico",
              "title": "Organismo"
            },
            "description": "Filtrar por organismo espec├¡fico"
          },
          {
            "name": "banco",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filtrar por banco espec├¡fico",
              "title": "Banco"
            },
            "description": "Filtrar por banco espec├¡fico"
          },
          {
            "name": "bp_proyecto",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filtrar por BP Proyecto espec├¡fico",
              "title": "Bp Proyecto"
            },
            "description": "Filtrar por BP Proyecto espec├¡fico"
          },
          {
            "name": "mes",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filtrar por mes espec├¡fico (ej: jul-25)",
              "title": "Mes"
            },
            "description": "Filtrar por mes espec├¡fico (ej: jul-25)"
          },
          {
            "name": "periodo_desde",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Periodo desde (formato: YYYY-MM-DD)",
              "title": "Periodo Desde"
            },
            "description": "Periodo desde (formato: YYYY-MM-DD)"
          },
          {
            "name": "periodo_hasta",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Periodo hasta (formato: YYYY-MM-DD)",
              "title": "Periodo Hasta"
            },
            "description": "Periodo hasta (formato: YYYY-MM-DD)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 1000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "L├¡mite de registros",
              "title": "Limit"
            },
            "description": "L├¡mite de registros"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/crear-tabla-proyecciones": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Crear Tabla Proyecciones",
        "description": "## ∩┐╜ POST | ≡ƒöù Integraci├│n Externa | Crear Tabla de Proyecciones desde Google Sheets\n\n**Prop├│sito**: Lee datos de Google Sheets espec├¡fico y los carga en la colecci├│n \"proyecciones_emprestito\".\n\n### ≡ƒöº Proceso autom├ítico:\n1. **Lee datos** desde Google Sheets espec├¡fico (Publicados Emprestitos nuevo)\n2. **Mapea campos** seg├║n especificaciones definidas\n3. **Procesa BP** agregando prefijo \"BP\" autom├íticamente\n4. **Guarda en Firebase** en colecci├│n \"proyecciones_emprestito\"\n5. **Elimina temporal** y registra fecha de actualizaci├│n\n\n### ≡ƒôï Mapeo de campos:\n- `Item` ΓåÆ `item`\n- `Nro de Proceso` ΓåÆ `referencia_proceso`\n- `NOMBRE ABREVIADO` ΓåÆ `nombre_organismo_reducido`\n- `Banco` ΓåÆ `nombre_banco`\n- `BP` ΓåÆ `BP` (con prefijo \"BP\" agregado)\n- `DESCRIPCION BP` ΓåÆ `descripcion_bp`\n- `Proyecto` ΓåÆ `nombre_generico_proyecto`\n- `Proyecto con su respectivo contrato` ΓåÆ `nombre_resumido_proceso`\n- `ID PAA` ΓåÆ `id_paa`\n- `LINK DEL PROCESO` ΓåÆ `urlProceso`\n- `valor_proyectado` ΓåÆ `valor_proyectado` (mapeo directo)\n\n**NOTA**: La columna en Google Sheets ahora se llama \"valor_proyectado\" directamente\n\n### Γ£à Caracter├¡sticas:\n- **Reemplazo completo**: Elimina datos existentes y carga nuevos\n- **Validaci├│n autom├ítica**: Verifica campos obligatorios\n- **Manejo de errores**: Reporta filas con problemas\n- **Metadatos**: Registra fecha de carga y estad├¡sticas\n- **UTF-8**: Soporte completo para caracteres especiales\n- **URL fija**: Usa Google Sheets predefinido\n- **Service Account**: Autenticaci├│n con service account configurado\n\n### ≡ƒöÉ Autenticaci├│n:\n- **Service Account**: `unidad-cumplimiento-sheets@unidad-cumplimiento.iam.gserviceaccount.com`\n- **Permisos**: Debe tener acceso de lectura al Google Sheets configurado\n- **Scopes**: `spreadsheets.readonly` y `drive.readonly`\n- **Credenciales**: Configuradas en el sistema usando ADC o variable de entorno\n\n### ≡ƒô¥ Ejemplo de respuesta:\n```json\n{\n    \"success\": true,\n    \"message\": \"Tabla de proyecciones creada exitosamente\",\n    \"resumen_operacion\": {\n        \"filas_leidas\": 150,\n        \"registros_procesados\": 148,\n        \"registros_guardados\": 148,\n        \"docs_eliminados_previos\": 145\n    }\n}\n```\n\n### ≡ƒÆí Notas importantes:\n- **URL fija**: Usa Google Sheets predefinido internamente\n- **Autom├ítico**: No requiere par├ímetros de entrada\n- **Destructivo**: Reemplaza todos los datos existentes\n- **Auditable**: Mantiene registro de fecha de ├║ltima actualizaci├│n\n- **Permisos**: Requiere service account con acceso al Google Sheets",
        "operationId": "crear_tabla_proyecciones_endpoint_emprestito_crear_tabla_proyecciones_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/emprestito/leer-tabla-proyecciones": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒö╡ Tabla de Proyecciones",
        "description": "## ≡ƒôï GET | ≡ƒôï Listados | Leer Tabla de Proyecciones de Empr├⌐stito\n\n**Prop├│sito**: \n- **Sin par├ímetros**: Obtiene todos los registros de la colecci├│n \"proyecciones_emprestito\".\n- **Con sheet_url**: Detecta registros de Google Sheets que NO est├ín en procesos_emprestito.\n\n### Γ£à Casos de uso:\n\n#### Modo 1: Lectura de BD (sin par├ímetros)\n- Consultar proyecciones cargadas desde Google Sheets\n- Verificar datos despu├⌐s de carga\n- Exportar proyecciones para an├ílisis\n- Integrar con dashboards y reportes\n- Auditar ├║ltima fecha de actualizaci├│n\n\n#### Modo 2: Detecci├│n de no guardados en procesos_emprestito (con sheet_url)\n- **Identifica registros pendientes**: Encuentra qu├⌐ datos de Sheets tienen Nro de Proceso pero NO est├ín en procesos_emprestito\n- **Validaci├│n de sincronizaci├│n**: Verifica qu├⌐ procesos faltan por crear en la BD\n- **Detecci├│n de pendientes**: Lista proyecciones que necesitan ser guardadas como procesos\n- **Control de calidad**: Asegura que todos los procesos v├ílidos est├⌐n registrados\n\n### ≡ƒöì Condiciones para Modo 2 (Registros devueltos):\n1. Γ£à Tienen valor en columna \"Nro de Proceso\" (no vac├¡o, no null)\n2. Γ¥î El valor de \"Nro de Proceso\" NO existe en la colecci├│n `procesos_emprestito` con campo `referencia_proceso`\n\n### ≡ƒôè Informaci├│n incluida (Modo 1 - Sin sheet_url):\n- **Datos mapeados**: Todos los campos seg├║n mapeo definido\n- **Metadatos**: Fecha de carga, fuente, fila origen\n- **Timestamps**: Fecha de guardado y ├║ltima actualizaci├│n\n- **ID ├║nico**: Identificador de Firebase para cada registro\n- **Estad├¡sticas**: Informaci├│n de la ├║ltima carga realizada\n\n### ≡ƒöì Informaci├│n incluida (Modo 2 - Con sheet_url):\n- **Registros no guardados**: Solo los que tienen Nro de Proceso v├ílido pero NO existen en procesos_emprestito\n- **Comparaci├│n precisa**: Verifica contra la colecci├│n procesos_emprestito\n- **Metadata de comparaci├│n**: Estad├¡sticas sobre registros encontrados/no encontrados\n- **Optimizaci├│n**: Usa mapas en memoria para comparaci├│n r├ípida O(1)\n\n### ≡ƒöì Campos de respuesta:\n- `item`: N├║mero de ├¡tem\n- `referencia_proceso`: N├║mero de proceso (Nro de Proceso de Sheets)\n- `nombre_organismo_reducido`: Nombre abreviado del organismo\n- `nombre_banco`: Banco asociado\n- `BP`: C├│digo BP con prefijo agregado\n- `descripcion_bp`: Descripci├│n del BP\n- `nombre_generico_proyecto`: Nombre del proyecto\n- `nombre_resumido_proceso`: Proyecto con contrato\n- `id_paa`: ID del PAA\n- `urlProceso`: Enlace al proceso\n- `valor_proyectado`: Valor total del proyecto (├║nica columna de valor)\n- `_es_nuevo`: (Solo Modo 2) Indica que es un registro no guardado\n- `_motivo`: (Solo Modo 2) Raz├│n por la cual no est├í guardado\n\n**NOTA**: NO se incluyen campos duplicados como \"VALOR TOTAL\" o \"Valor Adjudicado\"\n\n### ≡ƒô¥ Ejemplos de uso:\n\n#### Ejemplo 1: Leer todos los registros guardados en proyecciones_emprestito\n```javascript\nconst response = await fetch('/emprestito/leer-tabla-proyecciones');\nconst data = await response.json();\n\nif (data.success) {\n    console.log(`Proyecciones encontradas: ${data.count}`);\n    data.data.forEach(proyeccion => {\n        console.log(`${proyeccion.referencia_proceso}: ${proyeccion.valor_proyectado}`);\n    });\n}\n```\n\n#### Ejemplo 2: Detectar registros pendientes de guardar en procesos_emprestito\n```javascript\nconst sheetUrl = 'https://docs.google.com/spreadsheets/d/ABC123/edit';\nconst response = await fetch(\n    `/emprestito/leer-tabla-proyecciones?sheet_url=${encodeURIComponent(sheetUrl)}&solo_no_guardados=true`\n);\nconst data = await response.json();\n\nif (data.success) {\n    console.log(`Registros pendientes: ${data.count}`);\n    console.log(`Total en Sheets: ${data.metadata.total_sheets}`);\n    console.log(`Ya en procesos_emprestito: ${data.metadata.ya_en_procesos}`);\n    console.log(`Sin Nro de Proceso: ${data.metadata.sin_proceso}`);\n    \n    // Procesar registros pendientes\n    data.data.forEach(registro => {\n        console.log(`Pendiente: ${registro.referencia_proceso} - ${registro._motivo}`);\n    });\n}\n```\n\n### ≡ƒÆí Caracter├¡sticas:\n- **Ordenamiento** (Modo 1): Por fecha de carga (m├ís recientes primero)\n- **Filtrado inteligente** (Modo 2): Solo registros con Nro Proceso v├ílido que NO est├ín en procesos_emprestito\n- **Validaci├│n estricta**: Verifica que referencia_proceso no sea null, vac├¡o o solo espacios\n- **UTF-8**: Soporte completo para caracteres especiales\n- **Auditor├¡a**: Incluye informaci├│n de trazabilidad\n- **Optimizaci├│n**: B├║squeda O(1) usando sets en memoria",
        "operationId": "leer_tabla_proyecciones_endpoint_emprestito_leer_tabla_proyecciones_get",
        "parameters": [
          {
            "name": "sheet_url",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "URL de Google Sheets para detectar registros con Nro de Proceso que NO est├ín en procesos_emprestito.",
              "title": "Sheet Url"
            },
            "description": "URL de Google Sheets para detectar registros con Nro de Proceso que NO est├ín en procesos_emprestito."
          },
          {
            "name": "solo_no_guardados",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Si es True y se proporciona sheet_url, devuelve solo registros que NO est├ín en procesos_emprestito pero tienen Nro de Proceso v├ílido",
              "default": false,
              "title": "Solo No Guardados"
            },
            "description": "Si es True y se proporciona sheet_url, devuelve solo registros que NO est├ín en procesos_emprestito pero tienen Nro de Proceso v├ílido"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/proyecciones-sin-proceso": {
      "get": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "Endpoint Proyecciones Sin Proceso",
        "description": "Devuelve proyecciones cuya 'referencia_proceso' no exista en 'procesos_emprestito'.",
        "operationId": "endpoint_proyecciones_sin_proceso_emprestito_proyecciones_sin_proceso_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/emprestito/proyecciones/{referencia_proceso}": {
      "put": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒí Actualizar Proyecci├│n",
        "description": "## ∩┐╜ PUT | Γ£Å∩╕Å Actualizaci├│n | Actualizar Proyecci├│n de Empr├⌐stito\n\n**Prop├│sito**: Actualiza cualquier campo de un registro espec├¡fico en la colecci├│n \"proyecciones_emprestito\" \nseg├║n su \"referencia_proceso\".\n\n### Γ£à Casos de uso:\n- Actualizar datos espec├¡ficos de una proyecci├│n existente\n- Corregir informaci├│n incorrecta en proyecciones\n- Modificar valores proyectados o informaci├│n del banco\n- Actualizar enlaces de procesos o informaci├│n PAA\n- Mantener datos sincronizados con fuentes externas\n\n### ≡ƒÄ» Funcionamiento:\n1. **Busca** el registro por `referencia_proceso` (par├ímetro de ruta)\n2. **Actualiza** solo los campos proporcionados en el body\n3. **Mantiene** los campos no especificados sin cambios\n4. **Registra** timestamp de ├║ltima actualizaci├│n\n5. **Retorna** datos previos y actualizados para auditor├¡a\n\n### ≡ƒôï Campos actualizables:\n- `item`: N├║mero de ├¡tem\n- `nombre_organismo_reducido`: Nombre abreviado del organismo\n- `nombre_banco`: Banco asociado\n- `BP`: C├│digo BP\n- `nombre_generico_proyecto`: Nombre del proyecto\n- `nombre_resumido_proceso`: Proyecto con contrato\n- `id_paa`: ID del PAA\n- `urlProceso`: Enlace al proceso\n- `valor_proyectado`: Valor total del proyecto\n\n### ≡ƒöÆ Validaciones:\n- **referencia_proceso**: Debe existir en la colecci├│n\n- **valor_proyectado**: Debe ser >= 0 si se proporciona\n- **strings**: Se limpian autom├íticamente de espacios\n- **campos opcionales**: Solo se actualizan los proporcionados\n\n### ≡ƒô¥ Ejemplo de uso:\n```javascript\nconst referencia = \"PROC-2024-001\";\nconst datosActualizar = {\n    valor_proyectado: 500000000,\n    nombre_banco: \"Banco de Occidente\",\n    urlProceso: \"https://nuevo-enlace.com\"\n};\n\nconst response = await fetch(`/emprestito/proyecciones/${referencia}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(datosActualizar)\n});\n```\n\n### Γ£à Respuesta exitosa:\n```json\n{\n    \"success\": true,\n    \"message\": \"Proyecci├│n actualizada exitosamente\",\n    \"referencia_proceso\": \"PROC-2024-001\",\n    \"doc_id\": \"abc123\",\n    \"datos_previos\": { ... },\n    \"datos_actualizados\": { ... },\n    \"campos_modificados\": [\"valor_proyectado\", \"nombre_banco\", \"urlProceso\"]\n}\n```\n\n### ≡ƒÆí Caracter├¡sticas:\n- **Actualizaci├│n parcial**: Solo modifica campos especificados\n- **Auditor├¡a completa**: Guarda datos previos y nuevos\n- **B├║squeda exacta**: Por referencia_proceso ├║nicamente\n- **UTF-8**: Soporte completo para caracteres especiales\n- **Timestamp autom├ítico**: Registra fecha de modificaci├│n\n- **Validaci├│n robusta**: Verifica existencia y tipos de datos",
        "operationId": "actualizar_proyeccion_emprestito_endpoint_emprestito_proyecciones__referencia_proceso__put",
        "parameters": [
          {
            "name": "referencia_proceso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Referencia Proceso"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProyeccionEmprestitoUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/emprestito/registrar-proyeccion": {
      "post": {
        "tags": [
          "Gesti├│n de Empr├⌐stito"
        ],
        "summary": "≡ƒƒó Registrar Nueva Proyecci├│n",
        "description": "## ≡ƒƒó POST | Γ₧ò Creaci├│n | Registrar Nueva Proyecci├│n de Empr├⌐stito\n\n**Prop├│sito**: Crea un nuevo registro en la colecci├│n \"proyecciones_emprestito\" con todos los \ncampos necesarios para el seguimiento de proyecciones de empr├⌐stito.\n\n### Γ£à Casos de uso:\n- Registrar nuevas proyecciones de empr├⌐stito\n- Crear registros preliminares antes de la formalizaci├│n\n- Documentar proyecciones en etapas tempranas\n- Vincular proyecciones con procesos PAA\n- Establecer valores proyectados para presupuestaci├│n\n\n### Γ£à Casos de uso:\n- Registrar nuevas proyecciones de empr├⌐stito\n- Crear registros preliminares antes de la formalizaci├│n\n- Documentar proyecciones en etapas tempranas\n- Vincular proyecciones con procesos PAA\n- Establecer valores proyectados para presupuestaci├│n\n\n### ≡ƒÄ» Funcionamiento:\n1. **Valida** que no exista una proyecci├│n con la misma referencia_proceso\n2. **Verifica** que todos los campos requeridos est├⌐n presentes\n3. **Limpia** y normaliza los datos ingresados\n4. **Crea** el registro en Firebase con timestamp\n5. **Retorna** confirmaci├│n con ID del documento creado\n\n### ≡ƒôï Campos del registro:\n\n#### Campos Requeridos:\n- `referencia_proceso`: Identificador ├║nico del proceso\n- `nombre_centro_gestor`: Nombre del centro gestor responsable\n- `nombre_banco`: Entidad bancaria asociada\n- `bp`: C├│digo BP del proyecto\n- `proyecto_generico`: Nombre gen├⌐rico del proyecto\n\n#### Campos Opcionales:\n- `estado_proyeccion`: Estado actual de la proyecci├│n\n- `nombre_resumido_proceso`: Nombre resumido para identificaci├│n\n- `id_paa`: Identificador del Plan Anual de Adquisiciones\n- `valor_proyectado`: Monto proyectado (debe ser >= 0)\n- `urlProceso`: URL del proceso en plataforma SECOP\n\n### ≡ƒöÆ Validaciones:\n- **referencia_proceso**: No debe existir previamente en la colecci├│n\n- **valor_proyectado**: Debe ser >= 0 si se proporciona\n- **strings**: Se limpian autom├íticamente de espacios\n- **campos requeridos**: Todos los marcados como obligatorios deben proporcionarse",
        "operationId": "registrar_proyeccion_emprestito_endpoint_emprestito_registrar_proyeccion_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_registrar_proyeccion_emprestito_endpoint_emprestito_registrar_proyeccion_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_actualizar_proceso_emprestito_endpoint_emprestito_proceso__referencia_proceso__put": {
        "properties": {
          "bp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP (opcional)"
          },
          "nombre_resumido_proceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso (opcional)"
          },
          "id_paa": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id Paa",
            "description": "ID PAA (opcional)"
          },
          "valor_proyectado": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Proyectado",
            "description": "Valor proyectado (opcional)"
          }
        },
        "type": "object",
        "title": "Body_actualizar_proceso_emprestito_endpoint_emprestito_proceso__referencia_proceso__put"
      },
      "Body_cargar_convenio_transferencia_emprestito_emprestito_cargar_convenio_transferencia_post": {
        "properties": {
          "referencia_contrato": {
            "type": "string",
            "title": "Referencia Contrato",
            "description": "Referencia del contrato/convenio (obligatorio)"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (obligatorio)"
          },
          "banco": {
            "type": "string",
            "title": "Banco",
            "description": "Nombre del banco (obligatorio)"
          },
          "objeto_contrato": {
            "type": "string",
            "title": "Objeto Contrato",
            "description": "Objeto del contrato (obligatorio)"
          },
          "valor_contrato": {
            "type": "number",
            "title": "Valor Contrato",
            "description": "Valor del contrato (obligatorio)"
          },
          "bp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP (opcional)"
          },
          "bpin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bpin",
            "description": "C├│digo BPIN (opcional)"
          },
          "valor_convenio": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Convenio",
            "description": "Valor del convenio (opcional)"
          },
          "urlproceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urlproceso",
            "description": "URL del proceso (opcional)"
          },
          "fecha_inicio_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fecha Inicio Contrato",
            "description": "Fecha de inicio del contrato (opcional)"
          },
          "fecha_fin_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fecha Fin Contrato",
            "description": "Fecha de fin del contrato (opcional)"
          },
          "modalidad_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modalidad Contrato",
            "description": "Modalidad del contrato (opcional)"
          },
          "ordenador_gastor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ordenador Gastor",
            "description": "Ordenador del gasto (opcional)"
          },
          "tipo_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tipo Contrato",
            "description": "Tipo de contrato (opcional)"
          },
          "estado_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estado Contrato",
            "description": "Estado del contrato (opcional)"
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector",
            "description": "Sector (opcional)"
          },
          "nombre_resumido_proceso": {
            "type": "string",
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso (obligatorio)"
          }
        },
        "type": "object",
        "required": [
          "referencia_contrato",
          "nombre_centro_gestor",
          "banco",
          "objeto_contrato",
          "valor_contrato",
          "nombre_resumido_proceso"
        ],
        "title": "Body_cargar_convenio_transferencia_emprestito_emprestito_cargar_convenio_transferencia_post"
      },
      "Body_cargar_flujo_caja_excel_emprestito_flujo_caja_cargar_excel_post": {
        "properties": {
          "archivo_excel": {
            "type": "string",
            "format": "binary",
            "title": "Archivo Excel",
            "description": "Archivo Excel con flujos de caja"
          },
          "update_mode": {
            "type": "string",
            "title": "Update Mode",
            "description": "Modo de actualizaci├│n: merge, replace, append",
            "default": "merge"
          }
        },
        "type": "object",
        "required": [
          "archivo_excel"
        ],
        "title": "Body_cargar_flujo_caja_excel_emprestito_flujo_caja_cargar_excel_post"
      },
      "Body_cargar_geojson_a_firestore_unidades_proyecto_cargar_geojson_post": {
        "properties": {
          "geojson_file": {
            "type": "string",
            "format": "binary",
            "title": "Geojson File",
            "description": "Archivo GeoJSON con unidades de proyecto"
          }
        },
        "type": "object",
        "required": [
          "geojson_file"
        ],
        "title": "Body_cargar_geojson_a_firestore_unidades_proyecto_cargar_geojson_post"
      },
      "Body_cargar_orden_compra_emprestito_emprestito_cargar_orden_compra_post": {
        "properties": {
          "numero_orden": {
            "type": "string",
            "title": "Numero Orden",
            "description": "N├║mero de la orden de compra (obligatorio)"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (obligatorio)"
          },
          "nombre_banco": {
            "type": "string",
            "title": "Nombre Banco",
            "description": "Nombre del banco (obligatorio)"
          },
          "nombre_resumido_proceso": {
            "type": "string",
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso (obligatorio)"
          },
          "valor_proyectado": {
            "type": "number",
            "title": "Valor Proyectado",
            "description": "Valor proyectado (obligatorio)"
          },
          "bp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP (opcional)"
          }
        },
        "type": "object",
        "required": [
          "numero_orden",
          "nombre_centro_gestor",
          "nombre_banco",
          "nombre_resumido_proceso",
          "valor_proyectado"
        ],
        "title": "Body_cargar_orden_compra_emprestito_emprestito_cargar_orden_compra_post"
      },
      "Body_cargar_pago_emprestito_endpoint_emprestito_cargar_pago_post": {
        "properties": {
          "numero_rpc": {
            "type": "string",
            "title": "Numero Rpc",
            "description": "N├║mero del RPC (obligatorio)"
          },
          "valor_pago": {
            "type": "number",
            "title": "Valor Pago",
            "description": "Valor del pago (obligatorio, debe ser mayor a 0)"
          },
          "fecha_transaccion": {
            "type": "string",
            "title": "Fecha Transaccion",
            "description": "Fecha de la transacci├│n (obligatorio)"
          },
          "referencia_contrato": {
            "type": "string",
            "title": "Referencia Contrato",
            "description": "Referencia del contrato (obligatorio)"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (obligatorio)"
          }
        },
        "type": "object",
        "required": [
          "numero_rpc",
          "valor_pago",
          "fecha_transaccion",
          "referencia_contrato",
          "nombre_centro_gestor"
        ],
        "title": "Body_cargar_pago_emprestito_endpoint_emprestito_cargar_pago_post"
      },
      "Body_cargar_proceso_emprestito_emprestito_cargar_proceso_post": {
        "properties": {
          "referencia_proceso": {
            "type": "string",
            "title": "Referencia Proceso",
            "description": "Referencia del proceso (obligatorio)"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (obligatorio)"
          },
          "nombre_banco": {
            "type": "string",
            "title": "Nombre Banco",
            "description": "Nombre del banco (obligatorio)"
          },
          "plataforma": {
            "type": "string",
            "title": "Plataforma",
            "description": "Plataforma (SECOP, TVEC) (obligatorio)"
          },
          "bp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP (opcional)"
          },
          "nombre_resumido_proceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso (opcional)"
          },
          "id_paa": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id Paa",
            "description": "ID PAA (opcional)"
          },
          "valor_proyectado": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Proyectado",
            "description": "Valor proyectado (opcional)"
          }
        },
        "type": "object",
        "required": [
          "referencia_proceso",
          "nombre_centro_gestor",
          "nombre_banco",
          "plataforma"
        ],
        "title": "Body_cargar_proceso_emprestito_emprestito_cargar_proceso_post"
      },
      "Body_cargar_proyectos_presupuestales_json_proyectos_presupuestales_cargar_json_post": {
        "properties": {
          "archivo_json": {
            "type": "string",
            "format": "binary",
            "title": "Archivo Json",
            "description": "Archivo JSON con proyectos presupuestales"
          },
          "update_mode": {
            "type": "string",
            "title": "Update Mode",
            "description": "Modo de actualizaci├│n: merge, replace, append",
            "default": "merge"
          }
        },
        "type": "object",
        "required": [
          "archivo_json"
        ],
        "title": "Body_cargar_proyectos_presupuestales_json_proyectos_presupuestales_cargar_json_post"
      },
      "Body_cargar_rpc_emprestito_endpoint_emprestito_cargar_rpc_post": {
        "properties": {
          "numero_rpc": {
            "type": "string",
            "title": "Numero Rpc",
            "description": "N├║mero del RPC (obligatorio)"
          },
          "beneficiario_id": {
            "type": "string",
            "title": "Beneficiario Id",
            "description": "ID del beneficiario (obligatorio)"
          },
          "beneficiario_nombre": {
            "type": "string",
            "title": "Beneficiario Nombre",
            "description": "Nombre del beneficiario (obligatorio)"
          },
          "descripcion_rpc": {
            "type": "string",
            "title": "Descripcion Rpc",
            "description": "Descripci├│n del RPC (obligatorio)"
          },
          "fecha_contabilizacion": {
            "type": "string",
            "title": "Fecha Contabilizacion",
            "description": "Fecha de contabilizaci├│n (obligatorio)"
          },
          "fecha_impresion": {
            "type": "string",
            "title": "Fecha Impresion",
            "description": "Fecha de impresi├│n (obligatorio)"
          },
          "estado_liberacion": {
            "type": "string",
            "title": "Estado Liberacion",
            "description": "Estado de liberaci├│n (obligatorio)"
          },
          "bp": {
            "type": "string",
            "title": "Bp",
            "description": "C├│digo BP (obligatorio)"
          },
          "valor_rpc": {
            "type": "number",
            "title": "Valor Rpc",
            "description": "Valor del RPC (obligatorio)"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (obligatorio)"
          },
          "referencia_contrato": {
            "type": "string",
            "title": "Referencia Contrato",
            "description": "Referencia del contrato (obligatorio)"
          },
          "cdp_asociados": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cdp Asociados",
            "description": "CDPs asociados separados por comas o JSON array (opcional)"
          },
          "programacion_pac": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Programacion Pac",
            "description": "Programaci├│n PAC en formato JSON (opcional)"
          }
        },
        "type": "object",
        "required": [
          "numero_rpc",
          "beneficiario_id",
          "beneficiario_nombre",
          "descripcion_rpc",
          "fecha_contabilizacion",
          "fecha_impresion",
          "estado_liberacion",
          "bp",
          "valor_rpc",
          "nombre_centro_gestor",
          "referencia_contrato"
        ],
        "title": "Body_cargar_rpc_emprestito_endpoint_emprestito_cargar_rpc_post"
      },
      "Body_change_password_auth_change_password_post": {
        "properties": {
          "uid": {
            "type": "string",
            "title": "Uid",
            "description": "ID del usuario"
          },
          "new_password": {
            "type": "string",
            "title": "New Password",
            "description": "Nueva contrase├▒a"
          }
        },
        "type": "object",
        "required": [
          "uid",
          "new_password"
        ],
        "title": "Body_change_password_auth_change_password_post"
      },
      "Body_crear_reporte_contrato_reportes_contratos__post": {
        "properties": {
          "referencia_contrato": {
            "type": "string",
            "minLength": 1,
            "title": "Referencia Contrato",
            "description": "Referencia del contrato"
          },
          "observaciones": {
            "type": "string",
            "title": "Observaciones",
            "description": "Observaciones del reporte"
          },
          "avance_fisico": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Avance Fisico",
            "description": "Porcentaje de avance f├¡sico (0-100, decimales permitidos)"
          },
          "avance_financiero": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Avance Financiero",
            "description": "Porcentaje de avance financiero (0-100, decimales permitidos)"
          },
          "alertas_descripcion": {
            "type": "string",
            "title": "Alertas Descripcion",
            "description": "Descripci├│n de la alerta"
          },
          "alertas_es_alerta": {
            "type": "boolean",
            "title": "Alertas Es Alerta",
            "description": "Indica si es una alerta activa"
          },
          "alertas_tipo_alerta": {
            "type": "string",
            "title": "Alertas Tipo Alerta",
            "description": "Tipos de alerta separados por coma",
            "default": ""
          },
          "archivos_evidencia": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Archivos Evidencia",
            "description": "Archivos de evidencia (PDF, DOC, DOCX, XLS, XLSX, TXT, CSV, JPG, PNG, GIF)"
          }
        },
        "type": "object",
        "required": [
          "referencia_contrato",
          "observaciones",
          "avance_fisico",
          "avance_financiero",
          "alertas_descripcion",
          "alertas_es_alerta",
          "archivos_evidencia"
        ],
        "title": "Body_crear_reporte_contrato_reportes_contratos__post"
      },
      "Body_google_auth_unified_auth_google_post": {
        "properties": {
          "google_token": {
            "type": "string",
            "title": "Google Token",
            "description": "ID Token de Google Sign-In"
          }
        },
        "type": "object",
        "required": [
          "google_token"
        ],
        "title": "Body_google_auth_unified_auth_google_post"
      },
      "Body_modificar_convenio_transferencia_emprestito_emprestito_modificar_convenio_transferencia_put": {
        "properties": {
          "doc_id": {
            "type": "string",
            "title": "Doc Id",
            "description": "ID del documento a modificar (obligatorio)"
          },
          "referencia_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Referencia Contrato",
            "description": "Referencia del contrato/convenio (opcional)"
          },
          "nombre_centro_gestor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Centro Gestor",
            "description": "Centro gestor responsable (opcional)"
          },
          "banco": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Banco",
            "description": "Nombre del banco (opcional)"
          },
          "objeto_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Objeto Contrato",
            "description": "Objeto del contrato (opcional)"
          },
          "valor_contrato": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Contrato",
            "description": "Valor del contrato (opcional)"
          },
          "bp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP (opcional)"
          },
          "bpin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bpin",
            "description": "C├│digo BPIN (opcional)"
          },
          "valor_convenio": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Convenio",
            "description": "Valor del convenio (opcional)"
          },
          "urlproceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urlproceso",
            "description": "URL del proceso (opcional)"
          },
          "fecha_inicio_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fecha Inicio Contrato",
            "description": "Fecha de inicio del contrato (opcional)"
          },
          "fecha_fin_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fecha Fin Contrato",
            "description": "Fecha de fin del contrato (opcional)"
          },
          "modalidad_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modalidad Contrato",
            "description": "Modalidad del contrato (opcional)"
          },
          "ordenador_gastor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ordenador Gastor",
            "description": "Ordenador del gasto (opcional)"
          },
          "tipo_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tipo Contrato",
            "description": "Tipo de contrato (opcional)"
          },
          "estado_contrato": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estado Contrato",
            "description": "Estado del contrato (opcional)"
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector",
            "description": "Sector (opcional)"
          },
          "nombre_resumido_proceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso (opcional)"
          }
        },
        "type": "object",
        "required": [
          "doc_id"
        ],
        "title": "Body_modificar_convenio_transferencia_emprestito_emprestito_modificar_convenio_transferencia_put"
      },
      "Body_registrar_proyeccion_emprestito_endpoint_emprestito_registrar_proyeccion_post": {
        "properties": {
          "referencia_proceso": {
            "type": "string",
            "title": "Referencia Proceso",
            "description": "Referencia ├║nica del proceso"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor",
            "description": "Nombre del centro gestor"
          },
          "nombre_banco": {
            "type": "string",
            "title": "Nombre Banco",
            "description": "Nombre del banco"
          },
          "bp": {
            "type": "string",
            "title": "Bp",
            "description": "C├│digo BP"
          },
          "proyecto_generico": {
            "type": "string",
            "title": "Proyecto Generico",
            "description": "Proyecto gen├⌐rico"
          },
          "estado_proyeccion": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estado Proyeccion",
            "description": "Estado de la proyecci├│n"
          },
          "nombre_resumido_proceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Resumido Proceso",
            "description": "Nombre resumido del proceso"
          },
          "id_paa": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id Paa",
            "description": "ID del PAA"
          },
          "valor_proyectado": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Proyectado",
            "description": "Valor proyectado (debe ser >= 0)"
          },
          "urlProceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urlproceso",
            "description": "URL del proceso"
          }
        },
        "type": "object",
        "required": [
          "referencia_proceso",
          "nombre_centro_gestor",
          "nombre_banco",
          "bp",
          "proyecto_generico"
        ],
        "title": "Body_registrar_proyeccion_emprestito_endpoint_emprestito_registrar_proyeccion_post"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ProyeccionEmprestitoUpdateRequest": {
        "properties": {
          "item": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Item",
            "description": "N├║mero de ├¡tem"
          },
          "nombre_organismo_reducido": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Organismo Reducido",
            "description": "Nombre abreviado del organismo"
          },
          "nombre_banco": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Banco",
            "description": "Banco asociado"
          },
          "BP": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bp",
            "description": "C├│digo BP"
          },
          "nombre_generico_proyecto": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Generico Proyecto",
            "description": "Nombre del proyecto"
          },
          "nombre_resumido_proceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nombre Resumido Proceso",
            "description": "Proyecto con contrato"
          },
          "id_paa": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id Paa",
            "description": "ID del PAA"
          },
          "urlProceso": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urlproceso",
            "description": "Enlace al proceso"
          },
          "valor_proyectado": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Valor Proyectado",
            "description": "Valor total del proyecto"
          }
        },
        "type": "object",
        "title": "ProyeccionEmprestitoUpdateRequest",
        "description": "Modelo para actualizaci├│n de proyecciones de empr├⌐stito"
      },
      "UserLoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserLoginRequest",
        "description": "Login con email y contrase├▒a"
      },
      "UserRegistrationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "confirmPassword": {
            "type": "string",
            "title": "Confirmpassword"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "cellphone": {
            "type": "string",
            "title": "Cellphone"
          },
          "nombre_centro_gestor": {
            "type": "string",
            "title": "Nombre Centro Gestor"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password",
          "confirmPassword",
          "name",
          "cellphone",
          "nombre_centro_gestor"
        ],
        "title": "UserRegistrationRequest",
        "description": "Γ£à FUNCIONAL: Registro de usuario simplificado"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}
